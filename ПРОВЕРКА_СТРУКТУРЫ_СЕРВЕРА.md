# –ü–†–û–í–ï–†–ö–ê –°–¢–†–£–ö–¢–£–†–´ –î–ò–†–ï–ö–¢–û–†–ò–ô –ù–ê –°–ï–†–í–ï–†–ï

## üîç –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ –ø—Ä–æ–±–ª–µ–º—ã

–ï—Å–ª–∏ –ø–æ–ª—É—á–∞–µ—Ç–µ –æ—à–∏–±–∫—É `No such file or directory` –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ `./server_update.sh`, –≤—ã–ø–æ–ª–Ω–∏—Ç–µ —Å–ª–µ–¥—É—é—â–∏–µ –∫–æ–º–∞–Ω–¥—ã –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏:

---

## –®–∞–≥ 1: –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ç–µ–∫—É—â–µ–π –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ –∏ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã

```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ç–µ–∫—É—â—É—é –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é
pwd

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ —Ç–µ–∫—É—â–µ–π –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏
ls -la

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, –µ—Å—Ç—å –ª–∏ —Ñ–∞–π–ª server_update.sh –∏–ª–∏ update.sh
ls -la *.sh

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç—Ä—É–∫—Ç—É—Ä—É –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–π
ls -la ~/trading_bot/
ls -la ~/trading_bot/trading_bot/ 2>/dev/null || echo "–î–∏—Ä–µ–∫—Ç–æ—Ä–∏—è –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç"
```

---

## –®–∞–≥ 2: –ü–æ–∏—Å–∫ —Ñ–∞–π–ª–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è

```bash
# –ü–æ–∏—Å–∫ —Ñ–∞–π–ª–∞ update.sh –∏–ª–∏ server_update.sh
find ~ -name "update.sh" -o -name "server_update.sh" 2>/dev/null

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, –µ—Å—Ç—å –ª–∏ —Ñ–∞–π–ª –≤ —Ä–∞–∑–Ω—ã—Ö –º–µ—Å—Ç–∞—Ö
ls -la ~/trading_bot/update.sh 2>/dev/null || echo "–§–∞–π–ª –Ω–µ –Ω–∞–π–¥–µ–Ω –≤ ~/trading_bot/"
ls -la ~/trading_bot/trading_bot/update.sh 2>/dev/null || echo "–§–∞–π–ª –Ω–µ –Ω–∞–π–¥–µ–Ω –≤ ~/trading_bot/trading_bot/"
ls -la ~/trading_bot/server_update.sh 2>/dev/null || echo "–§–∞–π–ª –Ω–µ –Ω–∞–π–¥–µ–Ω"
```

---

## –®–∞–≥ 3: –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã Git —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è

```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, –≥–¥–µ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è .git
cd ~/trading_bot
git rev-parse --show-toplevel

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è
git ls-files | grep -E "(update|server_update)" | head -10

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç–∞—Ç—É—Å Git
git status
```

---

## ‚úÖ –†–ï–®–ï–ù–ò–ï: –°–æ–∑–¥–∞–Ω–∏–µ —Å–∫—Ä–∏–ø—Ç–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ

–ï—Å–ª–∏ —Ñ–∞–π–ª –Ω–µ –Ω–∞–π–¥–µ–Ω, —Å–æ–∑–¥–∞–π—Ç–µ –µ–≥–æ –≤—Ä—É—á–Ω—É—é:

### –í–∞—Ä–∏–∞–Ω—Ç 1: –ï—Å–ª–∏ –ø—Ä–æ–µ–∫—Ç –≤ ~/trading_bot

```bash
cd ~/trading_bot

# –°–æ–∑–¥–∞—Ç—å —Ñ–∞–π–ª update.sh
cat > update.sh << 'EOF'
#!/bin/bash
# –°–∫—Ä–∏–ø—Ç –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –±–æ—Ç–∞ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ
# –ó–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —á–µ—Ä–µ–∑ cron –∏–ª–∏ –≤—Ä—É—á–Ω—É—é

set -e

cd ~/trading_bot

echo "========================================="
echo "–û–ë–ù–û–í–õ–ï–ù–ò–ï –¢–û–†–ì–û–í–û–ì–û –ë–û–¢–ê"
echo "========================================="
echo "–í—Ä–µ–º—è: $(date)"
echo

# –ê–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ
source venv/bin/activate

echo "[1/4] –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫–æ–¥–∞ –∏–∑ Git..."
git fetch origin
if [ $(git rev-parse HEAD) != $(git rev-parse origin/main) ]; then
    echo "–û–±–Ω–∞—Ä—É–∂–µ–Ω—ã –Ω–æ–≤—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è, –æ–±–Ω–æ–≤–ª—è—é..."
    git pull origin main
    
    echo
    echo "[2/4] –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π..."
    pip install --upgrade pip
    pip install -r requirements.txt
    
    echo
    echo "[3/4] –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ —Å–µ—Ä–≤–∏—Å–∞..."
    sudo systemctl restart trading-bot.service
    
    echo
    echo "[4/4] –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞..."
    sleep 3
    sudo systemctl status trading-bot.service --no-pager -l
    
    echo
    echo "========================================="
    echo "–û–ë–ù–û–í–õ–ï–ù–ò–ï –ó–ê–í–ï–†–®–ï–ù–û!"
    echo "========================================="
else
    echo "–ù–µ—Ç –Ω–æ–≤—ã—Ö –∏–∑–º–µ–Ω–µ–Ω–∏–π"
fi
EOF

# –°–¥–µ–ª–∞—Ç—å —Ñ–∞–π–ª –∏—Å–ø–æ–ª–Ω—è–µ–º—ã–º
chmod +x update.sh

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ —Ñ–∞–π–ª —Å–æ–∑–¥–∞–Ω
ls -la update.sh
```

---

### –í–∞—Ä–∏–∞–Ω—Ç 2: –ï—Å–ª–∏ –ø—Ä–æ–µ–∫—Ç –≤ ~/trading_bot/trading_bot

```bash
cd ~/trading_bot/trading_bot

# –°–æ–∑–¥–∞—Ç—å —Ñ–∞–π–ª update.sh
cat > update.sh << 'EOF'
#!/bin/bash
# –°–∫—Ä–∏–ø—Ç –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –±–æ—Ç–∞ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ

set -e

cd ~/trading_bot/trading_bot

echo "========================================="
echo "–û–ë–ù–û–í–õ–ï–ù–ò–ï –¢–û–†–ì–û–í–û–ì–û –ë–û–¢–ê"
echo "========================================="
echo "–í—Ä–µ–º—è: $(date)"
echo

# –ê–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ
source venv/bin/activate

echo "[1/4] –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫–æ–¥–∞ –∏–∑ Git..."
git fetch origin
if [ $(git rev-parse HEAD) != $(git rev-parse origin/main) ]; then
    echo "–û–±–Ω–∞—Ä—É–∂–µ–Ω—ã –Ω–æ–≤—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è, –æ–±–Ω–æ–≤–ª—è—é..."
    git pull origin main
    
    echo
    echo "[2/4] –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π..."
    pip install --upgrade pip
    pip install -r requirements.txt
    
    echo
    echo "[3/4] –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ —Å–µ—Ä–≤–∏—Å–∞..."
    sudo systemctl restart trading-bot.service
    
    echo
    echo "[4/4] –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞..."
    sleep 3
    sudo systemctl status trading-bot.service --no-pager -l
    
    echo
    echo "========================================="
    echo "–û–ë–ù–û–í–õ–ï–ù–ò–ï –ó–ê–í–ï–†–®–ï–ù–û!"
    echo "========================================="
else
    echo "–ù–µ—Ç –Ω–æ–≤—ã—Ö –∏–∑–º–µ–Ω–µ–Ω–∏–π"
fi
EOF

# –°–¥–µ–ª–∞—Ç—å —Ñ–∞–π–ª –∏—Å–ø–æ–ª–Ω—è–µ–º—ã–º
chmod +x update.sh

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ —Ñ–∞–π–ª —Å–æ–∑–¥–∞–Ω
ls -la update.sh
```

---

## üöÄ –ë—ã—Å—Ç—Ä–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –≤—Ä—É—á–Ω—É—é (–±–µ–∑ —Å–∫—Ä–∏–ø—Ç–∞)

–ï—Å–ª–∏ —Å–∫—Ä–∏–ø—Ç –Ω–µ –Ω—É–∂–µ–Ω, –º–æ–∂–Ω–æ –æ–±–Ω–æ–≤–∏—Ç—å –≤—Ä—É—á–Ω—É—é:

```bash
# –û–ø—Ä–µ–¥–µ–ª–∏—Ç—å –ø—Ä–∞–≤–∏–ª—å–Ω—É—é –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é
cd ~/trading_bot
# –∏–ª–∏
cd ~/trading_bot/trading_bot

# –û–±–Ω–æ–≤–∏—Ç—å –∫–æ–¥
git fetch origin
git pull origin main

# –û–±–Ω–æ–≤–∏—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ)
source venv/bin/activate
pip install -r requirements.txt

# –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å –±–æ—Ç–∞
sudo systemctl restart trading-bot.service

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç–∞—Ç—É—Å
sudo systemctl status trading-bot.service --no-pager
```

---

## üìã –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–π –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏

–ß—Ç–æ–±—ã –æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å –ø—Ä–∞–≤–∏–ª—å–Ω—É—é –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é, –≤—ã–ø–æ–ª–Ω–∏—Ç–µ:

```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, –≥–¥–µ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è main.py
find ~ -name "main.py" -type f 2>/dev/null

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, –≥–¥–µ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è .git
find ~ -name ".git" -type d 2>/dev/null

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, –≥–¥–µ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è venv
find ~ -name "venv" -type d 2>/dev/null
```

–û–±—ã—á–Ω–æ –ø—Ä–∞–≤–∏–ª—å–Ω–∞—è –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è - —ç—Ç–æ —Ç–∞, –≥–¥–µ –Ω–∞—Ö–æ–¥—è—Ç—Å—è:
- `main.py`
- `.git`
- `venv/`
- `requirements.txt`

---

## ‚ö†Ô∏è –í–ê–ñ–ù–û

–ü–æ—Å–ª–µ —Å–æ–∑–¥–∞–Ω–∏—è —Å–∫—Ä–∏–ø—Ç–∞ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ:
1. –°–¥–µ–ª–∞–π—Ç–µ –µ–≥–æ –∏—Å–ø–æ–ª–Ω—è–µ–º—ã–º: `chmod +x update.sh`
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—É—Ç—å –≤ —Å–∫—Ä–∏–ø—Ç–µ (–¥–æ–ª–∂–µ–Ω —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–æ–≤–∞—Ç—å –≤–∞—à–µ–π —Å—Ç—Ä—É–∫—Ç—É—Ä–µ)
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ systemd service –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –ø—É—Ç—å

