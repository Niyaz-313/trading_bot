@echo off
chcp 65001 > nul
echo ========================================
echo БЫСТРОЕ ИСПРАВЛЕНИЕ GIT PUSH
echo ========================================
echo.
echo Этот скрипт выполнит:
echo   1. Получение изменений с сервера
echo   2. Объединение изменений
echo   3. Отправку ваших изменений
echo.

cd /d "%~dp0"

echo [1/3] Получение изменений с сервера...
git fetch origin
if errorlevel 1 (
    echo ОШИБКА: Не удалось получить изменения
    pause
    exit /b 1
)

echo.
echo [2/3] Объединение изменений...
git pull origin main --no-edit
if errorlevel 1 (
    echo.
    echo ОШИБКА: Конфликты при объединении!
    echo.
    echo Разрешите конфликты вручную:
    echo   1. Откройте файлы с конфликтами
    echo   2. Найдите строки с ^<^<^<^<^<^<^<, =======, ^>^>^>^>^>^>^>
    echo   3. Выберите нужный вариант кода
    echo   4. Удалите маркеры конфликтов
    echo   5. Сохраните файлы
    echo   6. Выполните: git add . ^&^& git commit -m "Merge resolved"
    echo   7. Запустите этот скрипт снова
    pause
    exit /b 1
)

echo.
echo [3/3] Отправка изменений на сервер...
git push origin main
if errorlevel 1 (
    echo.
    echo ОШИБКА: Не удалось отправить изменения
    echo Попробуйте запустить скрипт снова
    pause
    exit /b 1
)

echo.
echo ========================================
echo УСПЕШНО! Изменения отправлены на сервер
echo ========================================
echo.
pause

chcp 65001 > nul
echo ========================================
echo БЫСТРОЕ ИСПРАВЛЕНИЕ GIT PUSH
echo ========================================
echo.
echo Этот скрипт выполнит:
echo   1. Получение изменений с сервера
echo   2. Объединение изменений
echo   3. Отправку ваших изменений
echo.

cd /d "%~dp0"

echo [1/3] Получение изменений с сервера...
git fetch origin
if errorlevel 1 (
    echo ОШИБКА: Не удалось получить изменения
    pause
    exit /b 1
)

echo.
echo [2/3] Объединение изменений...
git pull origin main --no-edit
if errorlevel 1 (
    echo.
    echo ОШИБКА: Конфликты при объединении!
    echo.
    echo Разрешите конфликты вручную:
    echo   1. Откройте файлы с конфликтами
    echo   2. Найдите строки с ^<^<^<^<^<^<^<, =======, ^>^>^>^>^>^>^>
    echo   3. Выберите нужный вариант кода
    echo   4. Удалите маркеры конфликтов
    echo   5. Сохраните файлы
    echo   6. Выполните: git add . ^&^& git commit -m "Merge resolved"
    echo   7. Запустите этот скрипт снова
    pause
    exit /b 1
)

echo.
echo [3/3] Отправка изменений на сервер...
git push origin main
if errorlevel 1 (
    echo.
    echo ОШИБКА: Не удалось отправить изменения
    echo Попробуйте запустить скрипт снова
    pause
    exit /b 1
)

echo.
echo ========================================
echo УСПЕШНО! Изменения отправлены на сервер
echo ========================================
echo.
pause

chcp 65001 > nul
echo ========================================
echo БЫСТРОЕ ИСПРАВЛЕНИЕ GIT PUSH
echo ========================================
echo.
echo Этот скрипт выполнит:
echo   1. Получение изменений с сервера
echo   2. Объединение изменений
echo   3. Отправку ваших изменений
echo.

cd /d "%~dp0"

echo [1/3] Получение изменений с сервера...
git fetch origin
if errorlevel 1 (
    echo ОШИБКА: Не удалось получить изменения
    pause
    exit /b 1
)

echo.
echo [2/3] Объединение изменений...
git pull origin main --no-edit
if errorlevel 1 (
    echo.
    echo ОШИБКА: Конфликты при объединении!
    echo.
    echo Разрешите конфликты вручную:
    echo   1. Откройте файлы с конфликтами
    echo   2. Найдите строки с ^<^<^<^<^<^<^<, =======, ^>^>^>^>^>^>^>
    echo   3. Выберите нужный вариант кода
    echo   4. Удалите маркеры конфликтов
    echo   5. Сохраните файлы
    echo   6. Выполните: git add . ^&^& git commit -m "Merge resolved"
    echo   7. Запустите этот скрипт снова
    pause
    exit /b 1
)

echo.
echo [3/3] Отправка изменений на сервер...
git push origin main
if errorlevel 1 (
    echo.
    echo ОШИБКА: Не удалось отправить изменения
    echo Попробуйте запустить скрипт снова
    pause
    exit /b 1
)

echo.
echo ========================================
echo УСПЕШНО! Изменения отправлены на сервер
echo ========================================
echo.
pause





