# –†–ê–ó–í–ï–†–¢–´–í–ê–ù–ò–ï –ë–û–¢–ê –ù–ê –£–î–ê–õ–ï–ù–ù–û–ú –°–ï–†–í–ï–†–ï

## –¶–µ–ª—å
–ó–∞–ø—É—Å—Ç–∏—Ç—å –±–æ—Ç–∞ –Ω–∞ —É–¥–∞–ª–µ–Ω–Ω–æ–º —Å–µ—Ä–≤–µ—Ä–µ 24/7 —Å —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–µ–π –∫–æ–¥–∞ —Å –ª–æ–∫–∞–ª—å–Ω–æ–π –º–∞—à–∏–Ω—ã.

## ‚ö†Ô∏è –í–ê–ñ–ù–û: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ IPv4

**–í—Å–µ –∫–æ–º–∞–Ω–¥—ã –≤ —ç—Ç–æ–π –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –∏—Å–ø–æ–ª—å–∑—É—é—Ç IPv4 –∞–¥—Ä–µ—Å —Å–µ—Ä–≤–µ—Ä–∞.**

–ó–∞–º–µ–Ω–∏—Ç–µ `YOUR_IPv4_ADDRESS` –Ω–∞ –≤–∞—à —Ä–µ–∞–ª—å–Ω—ã–π IPv4 –∞–¥—Ä–µ—Å —Å–µ—Ä–≤–µ—Ä–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä, `192.168.1.100`).

**IPv4 –∞–¥—Ä–µ—Å —É–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –ë–ï–ó –∫–≤–∞–¥—Ä–∞—Ç–Ω—ã—Ö —Å–∫–æ–±–æ–∫** (–≤ –æ—Ç–ª–∏—á–∏–µ –æ—Ç IPv6).

## –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Ä–µ—à–µ–Ω–∏—è

```
–õ–æ–∫–∞–ª—å–Ω—ã–π –∫–æ–º–ø—å—é—Ç–µ—Ä (—Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞)
    ‚Üì (—Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è —á–µ—Ä–µ–∑ Git/rsync)
–£–¥–∞–ª–µ–Ω–Ω—ã–π —Å–µ—Ä–≤–µ—Ä (–ø—Ä–æ–¥–∞–∫—à–Ω)
    ‚Üì (–∑–∞–ø—É—Å–∫ —á–µ—Ä–µ–∑ systemd/supervisor)
–ë–æ—Ç —Ä–∞–±–æ—Ç–∞–µ—Ç 24/7
```

---

## –≠–¢–ê–ü 1: –í–´–ë–û–† –ò –ù–ê–°–¢–†–û–ô–ö–ê –°–ï–†–í–ï–†–ê

### 1.1. –í—ã–±–æ—Ä VPS –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞

**–†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–µ –≤–∞—Ä–∏–∞–Ω—Ç—ã:**
- **Timeweb Cloud** (–†–æ—Å—Å–∏—è) - –æ—Ç 200‚ÇΩ/–º–µ—Å
- **Selectel** (–†–æ—Å—Å–∏—è) - –æ—Ç 300‚ÇΩ/–º–µ—Å
- **DigitalOcean** (–º–µ–∂–¥—É–Ω–∞—Ä–æ–¥–Ω—ã–π) - –æ—Ç $6/–º–µ—Å
- **Hetzner** (–ì–µ—Ä–º–∞–Ω–∏—è) - –æ—Ç ‚Ç¨4/–º–µ—Å
- **AWS Lightsail** (–º–µ–∂–¥—É–Ω–∞—Ä–æ–¥–Ω—ã–π) - –æ—Ç $5/–º–µ—Å

**–ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è:**
- CPU: 1-2 —è–¥—Ä–∞
- RAM: 1-2 GB
- –î–∏—Å–∫: 20-40 GB SSD
- –û–°: Ubuntu 22.04 LTS –∏–ª–∏ Debian 12
- –°–µ—Ç—å: —Å—Ç–∞–±–∏–ª—å–Ω–æ–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ

### 1.2. –ü–µ—Ä–≤–æ–Ω–∞—á–∞–ª—å–Ω–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞

```bash
# 1. –ü–æ–¥–∫–ª—é—á–∏—Ç–µ—Å—å –∫ —Å–µ—Ä–≤–µ—Ä—É –ø–æ SSH (–∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ IPv4 –∞–¥—Ä–µ—Å)
ssh root@YOUR_IPv4_ADDRESS
# –ü—Ä–∏–º–µ—Ä: ssh root@192.168.1.100

# 2. –û–±–Ω–æ–≤–∏—Ç–µ —Å–∏—Å—Ç–µ–º—É
apt update && apt upgrade -y

# 3. –°–æ–∑–¥–∞–π—Ç–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –¥–ª—è –±–æ—Ç–∞ (–Ω–µ root!)
adduser botuser
usermod -aG sudo botuser

# 4. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ SSH –∫–ª—é—á–∏ (–¥–ª—è –±–µ–∑–æ–ø–∞—Å–Ω–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞)
# –ù–∞ –ª–æ–∫–∞–ª—å–Ω–æ–π –º–∞—à–∏–Ω–µ (Windows PowerShell):
ssh-keygen -t ed25519 -C "bot_deployment"
# –°–∫–æ–ø–∏—Ä—É–π—Ç–µ –ø—É–±–ª–∏—á–Ω—ã–π –∫–ª—é—á –Ω–∞ —Å–µ—Ä–≤–µ—Ä (–∑–∞–º–µ–Ω–∏—Ç–µ YOUR_IPv4_ADDRESS):
type $env:USERPROFILE\.ssh\id_ed25519.pub | ssh botuser@YOUR_IPv4_ADDRESS "mkdir -p ~/.ssh && cat >> ~/.ssh/authorized_keys"
# –ü—Ä–∏–º–µ—Ä: type $env:USERPROFILE\.ssh\id_ed25519.pub | ssh botuser@192.168.1.100 "mkdir -p ~/.ssh && cat >> ~/.ssh/authorized_keys"

# 5. –û—Ç–∫–ª—é—á–∏—Ç–µ –≤—Ö–æ–¥ –ø–æ –ø–∞—Ä–æ–ª—é (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ, –¥–ª—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏)
# –ù–∞ —Å–µ—Ä–≤–µ—Ä–µ –≤ /etc/ssh/sshd_config:
# PasswordAuthentication no
# –ó–∞—Ç–µ–º: sudo systemctl restart sshd
```

---

## –≠–¢–ê–ü 2: –£–°–¢–ê–ù–û–í–ö–ê –ó–ê–í–ò–°–ò–ú–û–°–¢–ï–ô –ù–ê –°–ï–†–í–ï–†–ï

### 2.1. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ Python –∏ —Å–∏—Å—Ç–µ–º–Ω—ã—Ö –ø–∞–∫–µ—Ç–æ–≤

```bash
# –ü–æ–¥–∫–ª—é—á–∏—Ç–µ—Å—å –∫–∞–∫ botuser (–∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ IPv4 –∞–¥—Ä–µ—Å)
ssh botuser@YOUR_IPv4_ADDRESS
# –ü—Ä–∏–º–µ—Ä: ssh botuser@192.168.1.100

# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ Python 3.11+ –∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –ø–∞–∫–µ—Ç—ã
sudo apt install -y python3.11 python3.11-venv python3-pip git curl

# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
sudo apt install -y build-essential libssl-dev libffi-dev python3-dev
```

### 2.2. –°–æ–∑–¥–∞–Ω–∏–µ —Ä–∞–±–æ—á–µ–π –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏

```bash
# –°–æ–∑–¥–∞–π—Ç–µ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é –¥–ª—è –±–æ—Ç–∞
mkdir -p ~/trading_bot
cd ~/trading_bot
```

---

## –≠–¢–ê–ü 3: –°–ò–ù–•–†–û–ù–ò–ó–ê–¶–ò–Ø –ö–û–î–ê

### –í–∞—Ä–∏–∞–Ω—Ç A: –ß–µ—Ä–µ–∑ Git (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

---

## ‚úÖ –£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –≤ Telegram, –µ—Å–ª–∏ –±–æ—Ç –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω/—É–ø–∞–ª (Watchdog)

–ï—Å–ª–∏ –ø—Ä–æ—Ü–µ—Å—Å —É–ø–∞–ª –∏–ª–∏ —Å–µ—Ä–≤–∏—Å –æ—Å—Ç–∞–Ω–æ–≤–∏–ª–∏, —Å–∞–º –±–æ—Ç —É–∂–µ –º–æ–∂–µ—Ç –Ω–µ —É—Å–ø–µ—Ç—å –æ—Ç–ø—Ä–∞–≤–∏—Ç—å —Å–æ–æ–±—â–µ–Ω–∏–µ.
–ü–æ—ç—Ç–æ–º—É –¥–µ–ª–∞–µ–º –æ—Ç–¥–µ–ª—å–Ω—ã–π `systemd timer`, –∫–æ—Ç–æ—Ä—ã–π **–∫–∞–∂–¥—ã–µ ~15 —Å–µ–∫—É–Ω–¥** –ø—Ä–æ–≤–µ—Ä—è–µ—Ç —Å—Ç–∞—Ç—É—Å `trading-bot.service` –∏ —à–ª—ë—Ç —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ —Å–æ—Å—Ç–æ—è–Ω–∏—è.

### –£—Å—Ç–∞–Ω–æ–≤–∫–∞ (–Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ)

1) –û–±–Ω–æ–≤–∏—Ç–µ –∫–æ–¥ (—á—Ç–æ–±—ã –ø–æ—è–≤–∏–ª–∏—Å—å —Ñ–∞–π–ª—ã `systemd/` –∏ `scripts/`):

```bash
cd /home/botuser/trading_bot/trading_bot
git pull origin main
```

2) –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ watchdog (–Ω—É–∂–µ–Ω `sudo`):

```bash
chmod +x /home/botuser/trading_bot/trading_bot/scripts/install_watchdog.sh
/home/botuser/trading_bot/trading_bot/scripts/install_watchdog.sh
```

3) –ü—Ä–æ–≤–µ—Ä–∫–∞:

```bash
systemctl status trading-bot-watchdog.timer --no-pager -l
journalctl -u trading-bot-watchdog.service -n 50 --no-pager
```

### –ß—Ç–æ –∏–º–µ–Ω–Ω–æ –±—É–¥–µ—Ç –ø—Ä–∏—Ö–æ–¥–∏—Ç—å –≤ Telegram

- –ü—Ä–∏ –æ—Å—Ç–∞–Ω–æ–≤–∫–µ/–ø–∞–¥–µ–Ω–∏–∏: `üõë Trading bot NOT RUNNING ... state=inactive/failed ...`
- –ü—Ä–∏ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–∏: `‚úÖ Trading bot RECOVERED ...`

> Watchdog —á–∏—Ç–∞–µ—Ç `TELEGRAM_BOT_TOKEN` –∏ `TELEGRAM_CHAT_ID` –∏–∑ `/home/botuser/trading_bot/trading_bot/.env`.

#### 3.1. –ù–∞ –ª–æ–∫–∞–ª—å–Ω–æ–π –º–∞—à–∏–Ω–µ

```bash
# 1. –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–π—Ç–µ Git —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π (–µ—Å–ª–∏ –µ—â–µ –Ω–µ —Å–¥–µ–ª–∞–Ω–æ)
cd "C:\Users\karim\OneDrive\–†–∞–±–æ—á–∏–π —Å—Ç–æ–ª\Bot"
git init

# 2. –°–æ–∑–¥–∞–π—Ç–µ .gitignore (–µ—Å–ª–∏ –Ω–µ—Ç)
# –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤ .gitignore –µ—Å—Ç—å:
# .env
# *.log
# __pycache__/
# audit_logs/
# data_cache/
# state/

# 3. –°–æ–∑–¥–∞–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π –Ω–∞ GitHub/GitLab (–∏–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø—Ä–∏–≤–∞—Ç–Ω—ã–π)
# –ù–∞ GitHub: —Å–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—ã–π –ø—Ä–∏–≤–∞—Ç–Ω—ã–π —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π

# 4. –î–æ–±–∞–≤—å—Ç–µ —Ñ–∞–π–ª—ã –∏ –∑–∞–∫–æ–º–º–∏—Ç—å—Ç–µ
git add .
git commit -m "Initial commit"
git branch -M main
git remote add origin https://github.com/–≤–∞—à_username/trading_bot.git
git push -u origin main
```

#### 3.2. –ù–∞ —Å–µ—Ä–≤–µ—Ä–µ

**–í–ê–ñ–ù–û:** –ü–æ–¥–∫–ª—é—á–∏—Ç–µ—Å—å –∫ —Å–µ—Ä–≤–µ—Ä—É –ø–æ SSH –ø–µ—Ä–µ–¥ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ–º –∫–æ–º–∞–Ω–¥:

```bash
# 1. –ü–æ–¥–∫–ª—é—á–∏—Ç–µ—Å—å –∫ —Å–µ—Ä–≤–µ—Ä—É (–∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ IPv4 –∞–¥—Ä–µ—Å)
ssh botuser@YOUR_IPv4_ADDRESS
# –ü—Ä–∏–º–µ—Ä: ssh botuser@192.168.1.100

# 2. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ –¥–æ–º–∞—à–Ω—é—é –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é
cd ~

# 3. –ö–ª–æ–Ω–∏—Ä—É–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
git clone https://github.com/Niyaz-313/trading_bot.git trading_bot
cd trading_bot

# 4. –°–æ–∑–¥–∞–π—Ç–µ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ
python3 -m venv venv
source venv/bin/activate

# 5. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
pip install --upgrade pip
pip install -r requirements.txt
```

**–ï—Å–ª–∏ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π –ø—Ä–∏–≤–∞—Ç–Ω—ã–π, –Ω–∞—Å—Ç—Ä–æ–π—Ç–µ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—é:**
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ Personal Access Token (—Å–º. –ü–û–î–ö–õ–Æ–ß–ï–ù–ò–ï_GIT_–ö_–°–ï–†–í–ï–†–£.md)
- –ò–ª–∏ –Ω–∞—Å—Ç—Ä–æ–π—Ç–µ SSH –∫–ª—é—á–∏ –¥–ª—è GitHub

### –í–∞—Ä–∏–∞–Ω—Ç B: –ß–µ—Ä–µ–∑ rsync (–∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞)

#### 3.1. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –Ω–∞ –ª–æ–∫–∞–ª—å–Ω–æ–π –º–∞—à–∏–Ω–µ (Windows)

**–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ WSL –∏–ª–∏ Git Bash:**

```bash
# –ß–µ—Ä–µ–∑ WSL (–∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ IPv4 –∞–¥—Ä–µ—Å)
wsl rsync -avz --exclude='.env' --exclude='*.log' --exclude='__pycache__' \
  --exclude='audit_logs' --exclude='data_cache' --exclude='state' \
  /mnt/c/Users/karim/OneDrive/–†–∞–±–æ—á–∏–π\ —Å—Ç–æ–ª/Bot/ \
  botuser@YOUR_IPv4_ADDRESS:~/trading_bot/
# –ü—Ä–∏–º–µ—Ä: botuser@192.168.1.100:~/trading_bot/
```

---

## –≠–¢–ê–ü 4: –ù–ê–°–¢–†–û–ô–ö–ê –û–ö–†–£–ñ–ï–ù–ò–Ø –ù–ê –°–ï–†–í–ï–†–ï

### 4.1. –°–æ–∑–¥–∞–Ω–∏–µ .env —Ñ–∞–π–ª–∞ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ

```bash
# –ù–∞ —Å–µ—Ä–≤–µ—Ä–µ
cd ~/trading_bot
nano .env

# –°–∫–æ–ø–∏—Ä—É–π—Ç–µ —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ –≤–∞—à–µ–≥–æ .env —Ñ–∞–π–ª–∞ —Å –ª–æ–∫–∞–ª—å–Ω–æ–π –º–∞—à–∏–Ω—ã
# –í–ê–ñ–ù–û: –ù–µ –∫–æ–º–º–∏—Ç—å—Ç–µ .env –≤ Git!
```

**–ò–ª–∏ —Å–∫–æ–ø–∏—Ä—É–π—Ç–µ —á–µ—Ä–µ–∑ SCP (–∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ IPv4 –∞–¥—Ä–µ—Å):**

```powershell
# –ù–∞ –ª–æ–∫–∞–ª—å–Ω–æ–π –º–∞—à–∏–Ω–µ (PowerShell)
scp "C:\Users\karim\OneDrive\–†–∞–±–æ—á–∏–π —Å—Ç–æ–ª\Bot\.env" botuser@YOUR_IPv4_ADDRESS:~/trading_bot/.env
# –ü—Ä–∏–º–µ—Ä: scp "C:\Users\karim\OneDrive\–†–∞–±–æ—á–∏–π —Å—Ç–æ–ª\Bot\.env" botuser@192.168.1.100:~/trading_bot/.env
```

### 4.2. –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–π

```bash
# –ù–∞ —Å–µ—Ä–≤–µ—Ä–µ
cd ~/trading_bot
source venv/bin/activate

# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ T-Invest API
python3 -c "from broker_api import BrokerAPI; b = BrokerAPI(paper_trading=True); print('OK' if b.client else 'FAIL')"

# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ Telegram –±–æ—Ç–∞
python3 -c "from telegram_bot import TelegramBot; t = TelegramBot(); print('OK')"
```

---

## –≠–¢–ê–ü 5: –ó–ê–ü–£–°–ö –ë–û–¢–ê –ö–ê–ö –°–ï–†–í–ò–°–ê

### –í–∞—Ä–∏–∞–Ω—Ç A: Systemd (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –¥–ª—è Linux)

#### 5.1. –°–æ–∑–¥–∞–Ω–∏–µ systemd —Å–µ—Ä–≤–∏—Å–∞

```bash
# –ù–∞ —Å–µ—Ä–≤–µ—Ä–µ
sudo nano /etc/systemd/system/trading-bot.service
```

**–°–æ–¥–µ—Ä–∂–∏–º–æ–µ —Ñ–∞–π–ª–∞:**

```ini
[Unit]
Description=Trading Bot Service
After=network.target

[Service]
Type=simple
User=botuser
WorkingDirectory=/home/botuser/trading_bot
Environment="PATH=/home/botuser/trading_bot/venv/bin:/usr/local/bin:/usr/bin:/bin"
ExecStart=/home/botuser/trading_bot/venv/bin/python /home/botuser/trading_bot/main.py
Restart=always
RestartSec=10
StandardOutput=append:/home/botuser/trading_bot/logs/bot_output.log
StandardError=append:/home/botuser/trading_bot/logs/bot_error.log

[Install]
WantedBy=multi-user.target
```

#### 5.2. –ê–∫—Ç–∏–≤–∞—Ü–∏—è –∏ –∑–∞–ø—É—Å–∫ —Å–µ—Ä–≤–∏—Å–∞

```bash
# –°–æ–∑–¥–∞–π—Ç–µ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é –¥–ª—è –ª–æ–≥–æ–≤
mkdir -p ~/trading_bot/logs

# –ü–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∏—Ç–µ systemd
sudo systemctl daemon-reload

# –í–∫–ª—é—á–∏—Ç–µ –∞–≤—Ç–æ–∑–∞–ø—É—Å–∫
sudo systemctl enable trading-bot.service

# –ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å–µ—Ä–≤–∏—Å
sudo systemctl start trading-bot.service

# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å—Ç–∞—Ç—É—Å
sudo systemctl status trading-bot.service

# –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤
sudo journalctl -u trading-bot.service -f
```

### –í–∞—Ä–∏–∞–Ω—Ç B: Supervisor (–∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞)

#### 5.1. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ Supervisor

```bash
sudo apt install -y supervisor
```

#### 5.2. –°–æ–∑–¥–∞–Ω–∏–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏

```bash
sudo nano /etc/supervisor/conf.d/trading-bot.conf
```

**–°–æ–¥–µ—Ä–∂–∏–º–æ–µ:**

```ini
[program:trading-bot]
command=/home/botuser/trading_bot/venv/bin/python /home/botuser/trading_bot/main.py
directory=/home/botuser/trading_bot
user=botuser
autostart=true
autorestart=true
redirect_stderr=true
stdout_logfile=/home/botuser/trading_bot/logs/bot_output.log
stderr_logfile=/home/botuser/trading_bot/logs/bot_error.log
```

#### 5.3. –ó–∞–ø—É—Å–∫

```bash
sudo supervisorctl reread
sudo supervisorctl update
sudo supervisorctl start trading-bot
sudo supervisorctl status
```

### –í–∞—Ä–∏–∞–Ω—Ç C: Screen/Tmux (–ø—Ä–æ—Å—Ç–æ–π –≤–∞—Ä–∏–∞–Ω—Ç)

```bash
# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ screen
sudo apt install -y screen

# –°–æ–∑–¥–∞–π—Ç–µ —Å–µ—Å—Å–∏—é
screen -S trading_bot

# –ê–∫—Ç–∏–≤–∏—Ä—É–π—Ç–µ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ –∏ –∑–∞–ø—É—Å—Ç–∏—Ç–µ –±–æ—Ç–∞
cd ~/trading_bot
source venv/bin/activate
python main.py

# –û—Ç–∫–ª—é—á–∏—Ç–µ—Å—å: Ctrl+A, –∑–∞—Ç–µ–º D
# –ü–æ–¥–∫–ª—é—á–∏—Ç–µ—Å—å –æ–±—Ä–∞—Ç–Ω–æ: screen -r trading_bot
```

---

## –≠–¢–ê–ü 6: –ê–í–¢–û–ú–ê–¢–ò–ß–ï–°–ö–ê–Ø –°–ò–ù–•–†–û–ù–ò–ó–ê–¶–ò–Ø –ö–û–î–ê

### 6.1. –°–∫—Ä–∏–ø—Ç —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏ –Ω–∞ –ª–æ–∫–∞–ª—å–Ω–æ–π –º–∞—à–∏–Ω–µ

**–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –≥–æ—Ç–æ–≤—ã–π —Å–∫—Ä–∏–ø—Ç `sync_to_server.bat` (—Å–º. –Ω–∏–∂–µ)**

### 6.2. –°–∫—Ä–∏–ø—Ç –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ

**–°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `~/trading_bot/update.sh` –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ:**

```bash
#!/bin/bash
cd ~/trading_bot

# –ê–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ
source venv/bin/activate

# –û–±–Ω–æ–≤–∏—Ç—å –∫–æ–¥ –∏–∑ Git
git pull origin main

# –û–±–Ω–æ–≤–∏—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ (–µ—Å–ª–∏ requirements.txt –∏–∑–º–µ–Ω–∏–ª—Å—è)
pip install -r requirements.txt

# –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å —Å–µ—Ä–≤–∏—Å
sudo systemctl restart trading-bot.service

echo "–ë–æ—Ç –æ–±–Ω–æ–≤–ª–µ–Ω –∏ –ø–µ—Ä–µ–∑–∞–ø—É—â–µ–Ω"
```

**–°–¥–µ–ª–∞–π—Ç–µ –∏—Å–ø–æ–ª–Ω—è–µ–º—ã–º:**
```bash
chmod +x ~/trading_bot/update.sh
```

### 6.3. –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è —á–µ—Ä–µ–∑ cron (–Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ)

```bash
# –ù–∞ —Å–µ—Ä–≤–µ—Ä–µ: –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫–∞–∂–¥—ã–µ 6 —á–∞—Å–æ–≤
crontab -e

# –î–æ–±–∞–≤—å—Ç–µ —Å—Ç—Ä–æ–∫—É:
0 */6 * * * cd /home/botuser/trading_bot && /home/botuser/trading_bot/update.sh >> /home/botuser/trading_bot/logs/update.log 2>&1
```

---

## –≠–¢–ê–ü 7: –ú–û–ù–ò–¢–û–†–ò–ù–ì –ò –õ–û–ì–ò–†–û–í–ê–ù–ò–ï

### 7.1. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è

**–£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤ `config.py` –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã –ø—É—Ç–∏ –∫ –ª–æ–≥–∞–º:**

```python
LOG_FILE = 'logs/trading_bot.log'
AUDIT_LOG_PATH = 'audit_logs/trades_audit.jsonl'
```

### 7.2. –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —á–µ—Ä–µ–∑ Telegram

–ë–æ—Ç —É–∂–µ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –≤ Telegram. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ:
- `TELEGRAM_BOT_TOKEN` –Ω–∞—Å—Ç—Ä–æ–µ–Ω
- `TELEGRAM_CHAT_ID` –Ω–∞—Å—Ç—Ä–æ–µ–Ω

### 7.3. –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —Å–µ—Ä–≤–µ—Ä–∞

**–£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ —É—Ç–∏–ª–∏—Ç—ã –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞:**

```bash
# htop –¥–ª—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ —Ä–µ—Å—É—Ä—Å–æ–≤
sudo apt install -y htop

# netdata –¥–ª—è –≤–µ–±-–º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
bash <(curl -Ss https://my-netdata.io/kickstart.sh)
```

---

## –≠–¢–ê–ü 8: –†–ï–ó–ï–†–í–ù–û–ï –ö–û–ü–ò–†–û–í–ê–ù–ò–ï

### 8.1. –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Ä–µ–∑–µ—Ä–≤–Ω–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞ –ª–æ–∫–∞–ª—å–Ω—É—é –º–∞—à–∏–Ω—É

**–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –≥–æ—Ç–æ–≤—ã–π —Å–∫—Ä–∏–ø—Ç `backup_from_server.bat` (—Å–º. –Ω–∏–∂–µ)**

### 8.2. –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Ä–µ–∑–µ—Ä–≤–Ω–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ

**–°–æ–∑–¥–∞–π—Ç–µ —Å–∫—Ä–∏–ø—Ç `~/trading_bot/backup.sh`:**

```bash
#!/bin/bash
BACKUP_DIR=~/backups/trading_bot
DATE=$(date +%Y%m%d_%H%M%S)

mkdir -p $BACKUP_DIR

# –†–µ–∑–µ—Ä–≤–Ω–∞—è –∫–æ–ø–∏—è –≤–∞–∂–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
tar -czf $BACKUP_DIR/audit_$DATE.tar.gz audit_logs/
tar -czf $BACKUP_DIR/state_$DATE.tar.gz state/

# –£–¥–∞–ª–∏—Ç—å —Å—Ç–∞—Ä—ã–µ –±—ç–∫–∞–ø—ã (—Å—Ç–∞—Ä—à–µ 30 –¥–Ω–µ–π)
find $BACKUP_DIR -name "*.tar.gz" -mtime +30 -delete

echo "–†–µ–∑–µ—Ä–≤–Ω–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ –∑–∞–≤–µ—Ä—à–µ–Ω–æ: $DATE"
```

**–°–¥–µ–ª–∞–π—Ç–µ –∏—Å–ø–æ–ª–Ω—è–µ–º—ã–º:**
```bash
chmod +x ~/trading_bot/backup.sh
```

**–î–æ–±–∞–≤—å—Ç–µ –≤ cron:**
```bash
crontab -e
# –ï–∂–µ–¥–Ω–µ–≤–Ω–æ–µ —Ä–µ–∑–µ—Ä–≤–Ω–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ 3:00
0 3 * * * /home/botuser/trading_bot/backup.sh >> /home/botuser/trading_bot/logs/backup.log 2>&1
```

---

## –≠–¢–ê–ü 9: –ë–ï–ó–û–ü–ê–°–ù–û–°–¢–¨

### 9.1. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Ñ–∞–π—Ä–≤–æ–ª–∞

```bash
# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ ufw
sudo apt install -y ufw

# –†–∞–∑—Ä–µ—à–∏—Ç–µ SSH
sudo ufw allow 22/tcp

# –†–∞–∑—Ä–µ—à–∏—Ç–µ —Ç–æ–ª—å–∫–æ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –ø–æ—Ä—Ç—ã
# (–¥–ª—è –±–æ—Ç–∞ –æ–±—ã—á–Ω–æ –Ω–µ –Ω—É–∂–Ω—ã –æ—Ç–∫—Ä—ã—Ç—ã–µ –ø–æ—Ä—Ç—ã, —Ç–æ–ª—å–∫–æ –∏—Å—Ö–æ–¥—è—â–∏–µ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è)

# –í–∫–ª—é—á–∏—Ç–µ —Ñ–∞–π—Ä–≤–æ–ª
sudo ufw enable
sudo ufw status
```

### 9.2. –ó–∞—â–∏—Ç–∞ .env —Ñ–∞–π–ª–∞

```bash
# –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ .env –Ω–µ –¥–æ—Å—Ç—É–ø–µ–Ω –¥–ª—è —á—Ç–µ–Ω–∏—è –¥—Ä—É–≥–∏–º–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏
chmod 600 ~/trading_bot/.env

# –ù–µ –∫–æ–º–º–∏—Ç—å—Ç–µ .env –≤ Git (—É–∂–µ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –≤ .gitignore)
```

### 9.3. –†–µ–≥—É–ª—è—Ä–Ω—ã–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è

```bash
# –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏
sudo apt install -y unattended-upgrades
sudo dpkg-reconfigure -plow unattended-upgrades
```

---

## –≠–¢–ê–ü 10: –†–ê–ë–û–ß–ò–ô –ü–†–û–¶–ï–°–° –†–ê–ó–†–ê–ë–û–¢–ö–ò

### 10.1. –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞ –Ω–∞ –ª–æ–∫–∞–ª—å–Ω–æ–π –º–∞—à–∏–Ω–µ

1. –í–Ω–æ—Å–∏—Ç–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ –∫–æ–¥ –Ω–∞ –ª–æ–∫–∞–ª—å–Ω–æ–π –º–∞—à–∏–Ω–µ
2. –¢–µ—Å—Ç–∏—Ä—É–π—Ç–µ –ª–æ–∫–∞–ª—å–Ω–æ (–≤ –ø–µ—Å–æ—á–Ω–∏—Ü–µ)
3. –ö–æ–º–º–∏—Ç—å—Ç–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ Git
4. –ó–∞–ø—É—Å–∫–∞–π—Ç–µ `sync_to_server.bat` –¥–ª—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏

### 10.2. –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ

**–í–∞—Ä–∏–∞–Ω—Ç 1: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ (—á–µ—Ä–µ–∑ cron)**
- –°–µ—Ä–≤–µ—Ä –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –∫–∞–∂–¥—ã–µ 6 —á–∞—Å–æ–≤

**–í–∞—Ä–∏–∞–Ω—Ç 2: –í—Ä—É—á–Ω—É—é**
```bash
# –ù–∞ —Å–µ—Ä–≤–µ—Ä–µ (–∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ IPv4 –∞–¥—Ä–µ—Å)
ssh botuser@YOUR_IPv4_ADDRESS
# –ü—Ä–∏–º–µ—Ä: ssh botuser@192.168.1.100
cd ~/trading_bot
./update.sh
```

### 10.3. –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤

```bash
# –ù–∞ —Å–µ—Ä–≤–µ—Ä–µ
# Systemd
sudo journalctl -u trading-bot.service -f

# –ò–ª–∏ –Ω–∞–ø—Ä—è–º—É—é
tail -f ~/trading_bot/logs/trading_bot.log
tail -f ~/trading_bot/audit_logs/trades_audit.jsonl
```

---

## –≠–¢–ê–ü 11: –ü–†–û–í–ï–†–ö–ê –†–ê–ë–û–¢–û–°–ü–û–°–û–ë–ù–û–°–¢–ò

### 11.1. –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞ —Å–µ—Ä–≤–∏—Å–∞

```bash
# –ù–∞ —Å–µ—Ä–≤–µ—Ä–µ
sudo systemctl status trading-bot.service

# –î–æ–ª–∂–Ω–æ –±—ã—Ç—å: active (running)
```

### 11.2. –ü—Ä–æ–≤–µ—Ä–∫–∞ –ª–æ–≥–æ–≤

```bash
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–æ—Å–ª–µ–¥–Ω–∏–µ –∑–∞–ø–∏—Å–∏
tail -n 50 ~/trading_bot/logs/trading_bot.log

# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –æ—à–∏–±–∫–∏
grep -i error ~/trading_bot/logs/trading_bot.log | tail -20
```

### 11.3. –ü—Ä–æ–≤–µ—Ä–∫–∞ —á–µ—Ä–µ–∑ Telegram

- –û—Ç–ø—Ä–∞–≤—å—Ç–µ –∫–æ–º–∞–Ω–¥—É `/status` –±–æ—Ç—É –≤ Telegram
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –±–æ—Ç –æ—Ç–≤–µ—á–∞–µ—Ç

---

## –ß–ï–ö–õ–ò–°–¢ –†–ê–ó–í–ï–†–¢–´–í–ê–ù–ò–Ø

- [ ] –í—ã–±—Ä–∞–Ω –∏ –Ω–∞—Å—Ç—Ä–æ–µ–Ω VPS —Å–µ—Ä–≤–µ—Ä
- [ ] –£—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω Python –∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
- [ ] –ö–æ–¥ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω —á–µ—Ä–µ–∑ Git –∏–ª–∏ rsync
- [ ] –°–æ–∑–¥–∞–Ω .env —Ñ–∞–π–ª –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ
- [ ] –ë–æ—Ç –∑–∞–ø—É—â–µ–Ω –∫–∞–∫ systemd —Å–µ—Ä–≤–∏—Å
- [ ] –ù–∞—Å—Ç—Ä–æ–µ–Ω–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è
- [ ] –ù–∞—Å—Ç—Ä–æ–µ–Ω–æ —Ä–µ–∑–µ—Ä–≤–Ω–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ
- [ ] –ù–∞—Å—Ç—Ä–æ–µ–Ω —Ñ–∞–π—Ä–≤–æ–ª
- [ ] –ü—Ä–æ–≤–µ—Ä–µ–Ω–∞ —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç—å
- [ ] –ù–∞—Å—Ç—Ä–æ–µ–Ω –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

---

## –†–ï–®–ï–ù–ò–ï –ü–†–û–ë–õ–ï–ú

### –ë–æ—Ç –Ω–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è

```bash
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏
sudo journalctl -u trading-bot.service -n 50

# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞
ls -la ~/trading_bot/.env

# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ
source ~/trading_bot/venv/bin/activate
python --version
```

### –ë–æ—Ç –ø–∞–¥–∞–µ—Ç

```bash
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –æ—à–∏–±–æ–∫
tail -f ~/trading_bot/logs/bot_error.log

# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Ä–µ—Å—É—Ä—Å–æ–≤
htop

# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ API
curl -I https://api-invest.tinkoff.ru
```

### –ü—Ä–æ–±–ª–µ–º—ã —Å —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–µ–π

```bash
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ Git —Å—Ç–∞—Ç—É—Å
cd ~/trading_bot
git status

# –ü—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ
git fetch origin
git reset --hard origin/main
```

---

## –î–û–ü–û–õ–ù–ò–¢–ï–õ–¨–ù–´–ï –†–ï–ö–û–ú–ï–ù–î–ê–¶–ò–ò

1. **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ Git –¥–ª—è –≤–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è** - —ç—Ç–æ —Å–∞–º—ã–π –Ω–∞–¥–µ–∂–Ω—ã–π —Å–ø–æ—Å–æ–± —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏
2. **–†–µ–≥—É–ª—è—Ä–Ω–æ –¥–µ–ª–∞–π—Ç–µ –±—ç–∫–∞–ø—ã** - –æ—Å–æ–±–µ–Ω–Ω–æ audit_logs –∏ state
3. **–ú–æ–Ω–∏—Ç–æ—Ä—å—Ç–µ —Ä–µ—Å—É—Ä—Å—ã —Å–µ—Ä–≤–µ—Ä–∞** - —Å–ª–µ–¥–∏—Ç–µ –∑–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º CPU/RAM
4. **–ù–∞—Å—Ç—Ä–æ–π—Ç–µ –∞–ª–µ—Ä—Ç—ã** - –ø–æ–ª—É—á–∞–π—Ç–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ –ø—Ä–æ–±–ª–µ–º–∞—Ö —á–µ—Ä–µ–∑ Telegram
5. **–î–æ–∫—É–º–µ–Ω—Ç–∏—Ä—É–π—Ç–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è** - –≤–µ–¥–∏—Ç–µ changelog –¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π

---

## –ö–û–ù–¢–ê–ö–¢–´ –ò –ü–û–î–î–ï–†–ñ–ö–ê

–ü—Ä–∏ –≤–æ–∑–Ω–∏–∫–Ω–æ–≤–µ–Ω–∏–∏ –ø—Ä–æ–±–ª–µ–º:
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å—Ç–∞—Ç—É—Å —Å–µ—Ä–≤–∏—Å–∞
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ API –∏ Telegram
4. –ü—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ —Å–µ—Ä–≤–∏—Å

## –¶–µ–ª—å
–ó–∞–ø—É—Å—Ç–∏—Ç—å –±–æ—Ç–∞ –Ω–∞ —É–¥–∞–ª–µ–Ω–Ω–æ–º —Å–µ—Ä–≤–µ—Ä–µ 24/7 —Å —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–µ–π –∫–æ–¥–∞ —Å –ª–æ–∫–∞–ª—å–Ω–æ–π –º–∞—à–∏–Ω—ã.

## ‚ö†Ô∏è –í–ê–ñ–ù–û: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ IPv4

**–í—Å–µ –∫–æ–º–∞–Ω–¥—ã –≤ —ç—Ç–æ–π –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –∏—Å–ø–æ–ª—å–∑—É—é—Ç IPv4 –∞–¥—Ä–µ—Å —Å–µ—Ä–≤–µ—Ä–∞.**

–ó–∞–º–µ–Ω–∏—Ç–µ `YOUR_IPv4_ADDRESS` –Ω–∞ –≤–∞—à —Ä–µ–∞–ª—å–Ω—ã–π IPv4 –∞–¥—Ä–µ—Å —Å–µ—Ä–≤–µ—Ä–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä, `192.168.1.100`).

**IPv4 –∞–¥—Ä–µ—Å —É–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –ë–ï–ó –∫–≤–∞–¥—Ä–∞—Ç–Ω—ã—Ö —Å–∫–æ–±–æ–∫** (–≤ –æ—Ç–ª–∏—á–∏–µ –æ—Ç IPv6).

## –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Ä–µ—à–µ–Ω–∏—è

```
–õ–æ–∫–∞–ª—å–Ω—ã–π –∫–æ–º–ø—å—é—Ç–µ—Ä (—Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞)
    ‚Üì (—Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è —á–µ—Ä–µ–∑ Git/rsync)
–£–¥–∞–ª–µ–Ω–Ω—ã–π —Å–µ—Ä–≤–µ—Ä (–ø—Ä–æ–¥–∞–∫—à–Ω)
    ‚Üì (–∑–∞–ø—É—Å–∫ —á–µ—Ä–µ–∑ systemd/supervisor)
–ë–æ—Ç —Ä–∞–±–æ—Ç–∞–µ—Ç 24/7
```

---

## –≠–¢–ê–ü 1: –í–´–ë–û–† –ò –ù–ê–°–¢–†–û–ô–ö–ê –°–ï–†–í–ï–†–ê

### 1.1. –í—ã–±–æ—Ä VPS –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞

**–†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–µ –≤–∞—Ä–∏–∞–Ω—Ç—ã:**
- **Timeweb Cloud** (–†–æ—Å—Å–∏—è) - –æ—Ç 200‚ÇΩ/–º–µ—Å
- **Selectel** (–†–æ—Å—Å–∏—è) - –æ—Ç 300‚ÇΩ/–º–µ—Å
- **DigitalOcean** (–º–µ–∂–¥—É–Ω–∞—Ä–æ–¥–Ω—ã–π) - –æ—Ç $6/–º–µ—Å
- **Hetzner** (–ì–µ—Ä–º–∞–Ω–∏—è) - –æ—Ç ‚Ç¨4/–º–µ—Å
- **AWS Lightsail** (–º–µ–∂–¥—É–Ω–∞—Ä–æ–¥–Ω—ã–π) - –æ—Ç $5/–º–µ—Å

**–ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è:**
- CPU: 1-2 —è–¥—Ä–∞
- RAM: 1-2 GB
- –î–∏—Å–∫: 20-40 GB SSD
- –û–°: Ubuntu 22.04 LTS –∏–ª–∏ Debian 12
- –°–µ—Ç—å: —Å—Ç–∞–±–∏–ª—å–Ω–æ–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ

### 1.2. –ü–µ—Ä–≤–æ–Ω–∞—á–∞–ª—å–Ω–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞

```bash
# 1. –ü–æ–¥–∫–ª—é—á–∏—Ç–µ—Å—å –∫ —Å–µ—Ä–≤–µ—Ä—É –ø–æ SSH (–∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ IPv4 –∞–¥—Ä–µ—Å)
ssh root@YOUR_IPv4_ADDRESS
# –ü—Ä–∏–º–µ—Ä: ssh root@192.168.1.100

# 2. –û–±–Ω–æ–≤–∏—Ç–µ —Å–∏—Å—Ç–µ–º—É
apt update && apt upgrade -y

# 3. –°–æ–∑–¥–∞–π—Ç–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –¥–ª—è –±–æ—Ç–∞ (–Ω–µ root!)
adduser botuser
usermod -aG sudo botuser

# 4. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ SSH –∫–ª—é—á–∏ (–¥–ª—è –±–µ–∑–æ–ø–∞—Å–Ω–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞)
# –ù–∞ –ª–æ–∫–∞–ª—å–Ω–æ–π –º–∞—à–∏–Ω–µ (Windows PowerShell):
ssh-keygen -t ed25519 -C "bot_deployment"
# –°–∫–æ–ø–∏—Ä—É–π—Ç–µ –ø—É–±–ª–∏—á–Ω—ã–π –∫–ª—é—á –Ω–∞ —Å–µ—Ä–≤–µ—Ä (–∑–∞–º–µ–Ω–∏—Ç–µ YOUR_IPv4_ADDRESS):
type $env:USERPROFILE\.ssh\id_ed25519.pub | ssh botuser@YOUR_IPv4_ADDRESS "mkdir -p ~/.ssh && cat >> ~/.ssh/authorized_keys"
# –ü—Ä–∏–º–µ—Ä: type $env:USERPROFILE\.ssh\id_ed25519.pub | ssh botuser@192.168.1.100 "mkdir -p ~/.ssh && cat >> ~/.ssh/authorized_keys"

# 5. –û—Ç–∫–ª—é—á–∏—Ç–µ –≤—Ö–æ–¥ –ø–æ –ø–∞—Ä–æ–ª—é (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ, –¥–ª—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏)
# –ù–∞ —Å–µ—Ä–≤–µ—Ä–µ –≤ /etc/ssh/sshd_config:
# PasswordAuthentication no
# –ó–∞—Ç–µ–º: sudo systemctl restart sshd
```

---

## –≠–¢–ê–ü 2: –£–°–¢–ê–ù–û–í–ö–ê –ó–ê–í–ò–°–ò–ú–û–°–¢–ï–ô –ù–ê –°–ï–†–í–ï–†–ï

### 2.1. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ Python –∏ —Å–∏—Å—Ç–µ–º–Ω—ã—Ö –ø–∞–∫–µ—Ç–æ–≤

```bash
# –ü–æ–¥–∫–ª—é—á–∏—Ç–µ—Å—å –∫–∞–∫ botuser (–∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ IPv4 –∞–¥—Ä–µ—Å)
ssh botuser@YOUR_IPv4_ADDRESS
# –ü—Ä–∏–º–µ—Ä: ssh botuser@192.168.1.100

# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ Python 3.11+ –∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –ø–∞–∫–µ—Ç—ã
sudo apt install -y python3.11 python3.11-venv python3-pip git curl

# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
sudo apt install -y build-essential libssl-dev libffi-dev python3-dev
```

### 2.2. –°–æ–∑–¥–∞–Ω–∏–µ —Ä–∞–±–æ—á–µ–π –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏

```bash
# –°–æ–∑–¥–∞–π—Ç–µ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é –¥–ª—è –±–æ—Ç–∞
mkdir -p ~/trading_bot
cd ~/trading_bot
```

---

## –≠–¢–ê–ü 3: –°–ò–ù–•–†–û–ù–ò–ó–ê–¶–ò–Ø –ö–û–î–ê

### –í–∞—Ä–∏–∞–Ω—Ç A: –ß–µ—Ä–µ–∑ Git (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

#### 3.1. –ù–∞ –ª–æ–∫–∞–ª—å–Ω–æ–π –º–∞—à–∏–Ω–µ

```bash
# 1. –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–π—Ç–µ Git —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π (–µ—Å–ª–∏ –µ—â–µ –Ω–µ —Å–¥–µ–ª–∞–Ω–æ)
cd "C:\Users\karim\OneDrive\–†–∞–±–æ—á–∏–π —Å—Ç–æ–ª\Bot"
git init

# 2. –°–æ–∑–¥–∞–π—Ç–µ .gitignore (–µ—Å–ª–∏ –Ω–µ—Ç)
# –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤ .gitignore –µ—Å—Ç—å:
# .env
# *.log
# __pycache__/
# audit_logs/
# data_cache/
# state/

# 3. –°–æ–∑–¥–∞–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π –Ω–∞ GitHub/GitLab (–∏–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø—Ä–∏–≤–∞—Ç–Ω—ã–π)
# –ù–∞ GitHub: —Å–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—ã–π –ø—Ä–∏–≤–∞—Ç–Ω—ã–π —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π

# 4. –î–æ–±–∞–≤—å—Ç–µ —Ñ–∞–π–ª—ã –∏ –∑–∞–∫–æ–º–º–∏—Ç—å—Ç–µ
git add .
git commit -m "Initial commit"
git branch -M main
git remote add origin https://github.com/–≤–∞—à_username/trading_bot.git
git push -u origin main
```

#### 3.2. –ù–∞ —Å–µ—Ä–≤–µ—Ä–µ

**–í–ê–ñ–ù–û:** –ü–æ–¥–∫–ª—é—á–∏—Ç–µ—Å—å –∫ —Å–µ—Ä–≤–µ—Ä—É –ø–æ SSH –ø–µ—Ä–µ–¥ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ–º –∫–æ–º–∞–Ω–¥:

```bash
# 1. –ü–æ–¥–∫–ª—é—á–∏—Ç–µ—Å—å –∫ —Å–µ—Ä–≤–µ—Ä—É (–∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ IPv4 –∞–¥—Ä–µ—Å)
ssh botuser@YOUR_IPv4_ADDRESS
# –ü—Ä–∏–º–µ—Ä: ssh botuser@192.168.1.100

# 2. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ –¥–æ–º–∞—à–Ω—é—é –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é
cd ~

# 3. –ö–ª–æ–Ω–∏—Ä—É–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
git clone https://github.com/Niyaz-313/trading_bot.git trading_bot
cd trading_bot

# 4. –°–æ–∑–¥–∞–π—Ç–µ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ
python3 -m venv venv
source venv/bin/activate

# 5. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
pip install --upgrade pip
pip install -r requirements.txt
```

**–ï—Å–ª–∏ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π –ø—Ä–∏–≤–∞—Ç–Ω—ã–π, –Ω–∞—Å—Ç—Ä–æ–π—Ç–µ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—é:**
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ Personal Access Token (—Å–º. –ü–û–î–ö–õ–Æ–ß–ï–ù–ò–ï_GIT_–ö_–°–ï–†–í–ï–†–£.md)
- –ò–ª–∏ –Ω–∞—Å—Ç—Ä–æ–π—Ç–µ SSH –∫–ª—é—á–∏ –¥–ª—è GitHub

### –í–∞—Ä–∏–∞–Ω—Ç B: –ß–µ—Ä–µ–∑ rsync (–∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞)

#### 3.1. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –Ω–∞ –ª–æ–∫–∞–ª—å–Ω–æ–π –º–∞—à–∏–Ω–µ (Windows)

**–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ WSL –∏–ª–∏ Git Bash:**

```bash
# –ß–µ—Ä–µ–∑ WSL (–∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ IPv4 –∞–¥—Ä–µ—Å)
wsl rsync -avz --exclude='.env' --exclude='*.log' --exclude='__pycache__' \
  --exclude='audit_logs' --exclude='data_cache' --exclude='state' \
  /mnt/c/Users/karim/OneDrive/–†–∞–±–æ—á–∏–π\ —Å—Ç–æ–ª/Bot/ \
  botuser@YOUR_IPv4_ADDRESS:~/trading_bot/
# –ü—Ä–∏–º–µ—Ä: botuser@192.168.1.100:~/trading_bot/
```

---

## –≠–¢–ê–ü 4: –ù–ê–°–¢–†–û–ô–ö–ê –û–ö–†–£–ñ–ï–ù–ò–Ø –ù–ê –°–ï–†–í–ï–†–ï

### 4.1. –°–æ–∑–¥–∞–Ω–∏–µ .env —Ñ–∞–π–ª–∞ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ

```bash
# –ù–∞ —Å–µ—Ä–≤–µ—Ä–µ
cd ~/trading_bot
nano .env

# –°–∫–æ–ø–∏—Ä—É–π—Ç–µ —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ –≤–∞—à–µ–≥–æ .env —Ñ–∞–π–ª–∞ —Å –ª–æ–∫–∞–ª—å–Ω–æ–π –º–∞—à–∏–Ω—ã
# –í–ê–ñ–ù–û: –ù–µ –∫–æ–º–º–∏—Ç—å—Ç–µ .env –≤ Git!
```

**–ò–ª–∏ —Å–∫–æ–ø–∏—Ä—É–π—Ç–µ —á–µ—Ä–µ–∑ SCP (–∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ IPv4 –∞–¥—Ä–µ—Å):**

```powershell
# –ù–∞ –ª–æ–∫–∞–ª—å–Ω–æ–π –º–∞—à–∏–Ω–µ (PowerShell)
scp "C:\Users\karim\OneDrive\–†–∞–±–æ—á–∏–π —Å—Ç–æ–ª\Bot\.env" botuser@YOUR_IPv4_ADDRESS:~/trading_bot/.env
# –ü—Ä–∏–º–µ—Ä: scp "C:\Users\karim\OneDrive\–†–∞–±–æ—á–∏–π —Å—Ç–æ–ª\Bot\.env" botuser@192.168.1.100:~/trading_bot/.env
```

### 4.2. –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–π

```bash
# –ù–∞ —Å–µ—Ä–≤–µ—Ä–µ
cd ~/trading_bot
source venv/bin/activate

# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ T-Invest API
python3 -c "from broker_api import BrokerAPI; b = BrokerAPI(paper_trading=True); print('OK' if b.client else 'FAIL')"

# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ Telegram –±–æ—Ç–∞
python3 -c "from telegram_bot import TelegramBot; t = TelegramBot(); print('OK')"
```

---

## –≠–¢–ê–ü 5: –ó–ê–ü–£–°–ö –ë–û–¢–ê –ö–ê–ö –°–ï–†–í–ò–°–ê

### –í–∞—Ä–∏–∞–Ω—Ç A: Systemd (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –¥–ª—è Linux)

#### 5.1. –°–æ–∑–¥–∞–Ω–∏–µ systemd —Å–µ—Ä–≤–∏—Å–∞

```bash
# –ù–∞ —Å–µ—Ä–≤–µ—Ä–µ
sudo nano /etc/systemd/system/trading-bot.service
```

**–°–æ–¥–µ—Ä–∂–∏–º–æ–µ —Ñ–∞–π–ª–∞:**

```ini
[Unit]
Description=Trading Bot Service
After=network.target

[Service]
Type=simple
User=botuser
WorkingDirectory=/home/botuser/trading_bot
Environment="PATH=/home/botuser/trading_bot/venv/bin:/usr/local/bin:/usr/bin:/bin"
ExecStart=/home/botuser/trading_bot/venv/bin/python /home/botuser/trading_bot/main.py
Restart=always
RestartSec=10
StandardOutput=append:/home/botuser/trading_bot/logs/bot_output.log
StandardError=append:/home/botuser/trading_bot/logs/bot_error.log

[Install]
WantedBy=multi-user.target
```

#### 5.2. –ê–∫—Ç–∏–≤–∞—Ü–∏—è –∏ –∑–∞–ø—É—Å–∫ —Å–µ—Ä–≤–∏—Å–∞

```bash
# –°–æ–∑–¥–∞–π—Ç–µ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é –¥–ª—è –ª–æ–≥–æ–≤
mkdir -p ~/trading_bot/logs

# –ü–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∏—Ç–µ systemd
sudo systemctl daemon-reload

# –í–∫–ª—é—á–∏—Ç–µ –∞–≤—Ç–æ–∑–∞–ø—É—Å–∫
sudo systemctl enable trading-bot.service

# –ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å–µ—Ä–≤–∏—Å
sudo systemctl start trading-bot.service

# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å—Ç–∞—Ç—É—Å
sudo systemctl status trading-bot.service

# –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤
sudo journalctl -u trading-bot.service -f
```

### –í–∞—Ä–∏–∞–Ω—Ç B: Supervisor (–∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞)

#### 5.1. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ Supervisor

```bash
sudo apt install -y supervisor
```

#### 5.2. –°–æ–∑–¥–∞–Ω–∏–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏

```bash
sudo nano /etc/supervisor/conf.d/trading-bot.conf
```

**–°–æ–¥–µ—Ä–∂–∏–º–æ–µ:**

```ini
[program:trading-bot]
command=/home/botuser/trading_bot/venv/bin/python /home/botuser/trading_bot/main.py
directory=/home/botuser/trading_bot
user=botuser
autostart=true
autorestart=true
redirect_stderr=true
stdout_logfile=/home/botuser/trading_bot/logs/bot_output.log
stderr_logfile=/home/botuser/trading_bot/logs/bot_error.log
```

#### 5.3. –ó–∞–ø—É—Å–∫

```bash
sudo supervisorctl reread
sudo supervisorctl update
sudo supervisorctl start trading-bot
sudo supervisorctl status
```

### –í–∞—Ä–∏–∞–Ω—Ç C: Screen/Tmux (–ø—Ä–æ—Å—Ç–æ–π –≤–∞—Ä–∏–∞–Ω—Ç)

```bash
# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ screen
sudo apt install -y screen

# –°–æ–∑–¥–∞–π—Ç–µ —Å–µ—Å—Å–∏—é
screen -S trading_bot

# –ê–∫—Ç–∏–≤–∏—Ä—É–π—Ç–µ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ –∏ –∑–∞–ø—É—Å—Ç–∏—Ç–µ –±–æ—Ç–∞
cd ~/trading_bot
source venv/bin/activate
python main.py

# –û—Ç–∫–ª—é—á–∏—Ç–µ—Å—å: Ctrl+A, –∑–∞—Ç–µ–º D
# –ü–æ–¥–∫–ª—é—á–∏—Ç–µ—Å—å –æ–±—Ä–∞—Ç–Ω–æ: screen -r trading_bot
```

---

## –≠–¢–ê–ü 6: –ê–í–¢–û–ú–ê–¢–ò–ß–ï–°–ö–ê–Ø –°–ò–ù–•–†–û–ù–ò–ó–ê–¶–ò–Ø –ö–û–î–ê

### 6.1. –°–∫—Ä–∏–ø—Ç —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏ –Ω–∞ –ª–æ–∫–∞–ª—å–Ω–æ–π –º–∞—à–∏–Ω–µ

**–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –≥–æ—Ç–æ–≤—ã–π —Å–∫—Ä–∏–ø—Ç `sync_to_server.bat` (—Å–º. –Ω–∏–∂–µ)**

### 6.2. –°–∫—Ä–∏–ø—Ç –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ

**–°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `~/trading_bot/update.sh` –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ:**

```bash
#!/bin/bash
cd ~/trading_bot

# –ê–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ
source venv/bin/activate

# –û–±–Ω–æ–≤–∏—Ç—å –∫–æ–¥ –∏–∑ Git
git pull origin main

# –û–±–Ω–æ–≤–∏—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ (–µ—Å–ª–∏ requirements.txt –∏–∑–º–µ–Ω–∏–ª—Å—è)
pip install -r requirements.txt

# –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å —Å–µ—Ä–≤–∏—Å
sudo systemctl restart trading-bot.service

echo "–ë–æ—Ç –æ–±–Ω–æ–≤–ª–µ–Ω –∏ –ø–µ—Ä–µ–∑–∞–ø—É—â–µ–Ω"
```

**–°–¥–µ–ª–∞–π—Ç–µ –∏—Å–ø–æ–ª–Ω—è–µ–º—ã–º:**
```bash
chmod +x ~/trading_bot/update.sh
```

### 6.3. –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è —á–µ—Ä–µ–∑ cron (–Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ)

```bash
# –ù–∞ —Å–µ—Ä–≤–µ—Ä–µ: –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫–∞–∂–¥—ã–µ 6 —á–∞—Å–æ–≤
crontab -e

# –î–æ–±–∞–≤—å—Ç–µ —Å—Ç—Ä–æ–∫—É:
0 */6 * * * cd /home/botuser/trading_bot && /home/botuser/trading_bot/update.sh >> /home/botuser/trading_bot/logs/update.log 2>&1
```

---

## –≠–¢–ê–ü 7: –ú–û–ù–ò–¢–û–†–ò–ù–ì –ò –õ–û–ì–ò–†–û–í–ê–ù–ò–ï

### 7.1. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è

**–£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤ `config.py` –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã –ø—É—Ç–∏ –∫ –ª–æ–≥–∞–º:**

```python
LOG_FILE = 'logs/trading_bot.log'
AUDIT_LOG_PATH = 'audit_logs/trades_audit.jsonl'
```

### 7.2. –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —á–µ—Ä–µ–∑ Telegram

–ë–æ—Ç —É–∂–µ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –≤ Telegram. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ:
- `TELEGRAM_BOT_TOKEN` –Ω–∞—Å—Ç—Ä–æ–µ–Ω
- `TELEGRAM_CHAT_ID` –Ω–∞—Å—Ç—Ä–æ–µ–Ω

### 7.3. –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —Å–µ—Ä–≤–µ—Ä–∞

**–£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ —É—Ç–∏–ª–∏—Ç—ã –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞:**

```bash
# htop –¥–ª—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ —Ä–µ—Å—É—Ä—Å–æ–≤
sudo apt install -y htop

# netdata –¥–ª—è –≤–µ–±-–º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
bash <(curl -Ss https://my-netdata.io/kickstart.sh)
```

---

## –≠–¢–ê–ü 8: –†–ï–ó–ï–†–í–ù–û–ï –ö–û–ü–ò–†–û–í–ê–ù–ò–ï

### 8.1. –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Ä–µ–∑–µ—Ä–≤–Ω–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞ –ª–æ–∫–∞–ª—å–Ω—É—é –º–∞—à–∏–Ω—É

**–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –≥–æ—Ç–æ–≤—ã–π —Å–∫—Ä–∏–ø—Ç `backup_from_server.bat` (—Å–º. –Ω–∏–∂–µ)**

### 8.2. –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Ä–µ–∑–µ—Ä–≤–Ω–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ

**–°–æ–∑–¥–∞–π—Ç–µ —Å–∫—Ä–∏–ø—Ç `~/trading_bot/backup.sh`:**

```bash
#!/bin/bash
BACKUP_DIR=~/backups/trading_bot
DATE=$(date +%Y%m%d_%H%M%S)

mkdir -p $BACKUP_DIR

# –†–µ–∑–µ—Ä–≤–Ω–∞—è –∫–æ–ø–∏—è –≤–∞–∂–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
tar -czf $BACKUP_DIR/audit_$DATE.tar.gz audit_logs/
tar -czf $BACKUP_DIR/state_$DATE.tar.gz state/

# –£–¥–∞–ª–∏—Ç—å —Å—Ç–∞—Ä—ã–µ –±—ç–∫–∞–ø—ã (—Å—Ç–∞—Ä—à–µ 30 –¥–Ω–µ–π)
find $BACKUP_DIR -name "*.tar.gz" -mtime +30 -delete

echo "–†–µ–∑–µ—Ä–≤–Ω–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ –∑–∞–≤–µ—Ä—à–µ–Ω–æ: $DATE"
```

**–°–¥–µ–ª–∞–π—Ç–µ –∏—Å–ø–æ–ª–Ω—è–µ–º—ã–º:**
```bash
chmod +x ~/trading_bot/backup.sh
```

**–î–æ–±–∞–≤—å—Ç–µ –≤ cron:**
```bash
crontab -e
# –ï–∂–µ–¥–Ω–µ–≤–Ω–æ–µ —Ä–µ–∑–µ—Ä–≤–Ω–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ 3:00
0 3 * * * /home/botuser/trading_bot/backup.sh >> /home/botuser/trading_bot/logs/backup.log 2>&1
```

---

## –≠–¢–ê–ü 9: –ë–ï–ó–û–ü–ê–°–ù–û–°–¢–¨

### 9.1. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Ñ–∞–π—Ä–≤–æ–ª–∞

```bash
# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ ufw
sudo apt install -y ufw

# –†–∞–∑—Ä–µ—à–∏—Ç–µ SSH
sudo ufw allow 22/tcp

# –†–∞–∑—Ä–µ—à–∏—Ç–µ —Ç–æ–ª—å–∫–æ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –ø–æ—Ä—Ç—ã
# (–¥–ª—è –±–æ—Ç–∞ –æ–±—ã—á–Ω–æ –Ω–µ –Ω—É–∂–Ω—ã –æ—Ç–∫—Ä—ã—Ç—ã–µ –ø–æ—Ä—Ç—ã, —Ç–æ–ª—å–∫–æ –∏—Å—Ö–æ–¥—è—â–∏–µ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è)

# –í–∫–ª—é—á–∏—Ç–µ —Ñ–∞–π—Ä–≤–æ–ª
sudo ufw enable
sudo ufw status
```

### 9.2. –ó–∞—â–∏—Ç–∞ .env —Ñ–∞–π–ª–∞

```bash
# –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ .env –Ω–µ –¥–æ—Å—Ç—É–ø–µ–Ω –¥–ª—è —á—Ç–µ–Ω–∏—è –¥—Ä—É–≥–∏–º–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏
chmod 600 ~/trading_bot/.env

# –ù–µ –∫–æ–º–º–∏—Ç—å—Ç–µ .env –≤ Git (—É–∂–µ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –≤ .gitignore)
```

### 9.3. –†–µ–≥—É–ª—è—Ä–Ω—ã–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è

```bash
# –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏
sudo apt install -y unattended-upgrades
sudo dpkg-reconfigure -plow unattended-upgrades
```

---

## –≠–¢–ê–ü 10: –†–ê–ë–û–ß–ò–ô –ü–†–û–¶–ï–°–° –†–ê–ó–†–ê–ë–û–¢–ö–ò

### 10.1. –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞ –Ω–∞ –ª–æ–∫–∞–ª—å–Ω–æ–π –º–∞—à–∏–Ω–µ

1. –í–Ω–æ—Å–∏—Ç–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ –∫–æ–¥ –Ω–∞ –ª–æ–∫–∞–ª—å–Ω–æ–π –º–∞—à–∏–Ω–µ
2. –¢–µ—Å—Ç–∏—Ä—É–π—Ç–µ –ª–æ–∫–∞–ª—å–Ω–æ (–≤ –ø–µ—Å–æ—á–Ω–∏—Ü–µ)
3. –ö–æ–º–º–∏—Ç—å—Ç–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ Git
4. –ó–∞–ø—É—Å–∫–∞–π—Ç–µ `sync_to_server.bat` –¥–ª—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏

### 10.2. –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ

**–í–∞—Ä–∏–∞–Ω—Ç 1: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ (—á–µ—Ä–µ–∑ cron)**
- –°–µ—Ä–≤–µ—Ä –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –∫–∞–∂–¥—ã–µ 6 —á–∞—Å–æ–≤

**–í–∞—Ä–∏–∞–Ω—Ç 2: –í—Ä—É—á–Ω—É—é**
```bash
# –ù–∞ —Å–µ—Ä–≤–µ—Ä–µ (–∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ IPv4 –∞–¥—Ä–µ—Å)
ssh botuser@YOUR_IPv4_ADDRESS
# –ü—Ä–∏–º–µ—Ä: ssh botuser@192.168.1.100
cd ~/trading_bot
./update.sh
```

### 10.3. –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤

```bash
# –ù–∞ —Å–µ—Ä–≤–µ—Ä–µ
# Systemd
sudo journalctl -u trading-bot.service -f

# –ò–ª–∏ –Ω–∞–ø—Ä—è–º—É—é
tail -f ~/trading_bot/logs/trading_bot.log
tail -f ~/trading_bot/audit_logs/trades_audit.jsonl
```

---

## –≠–¢–ê–ü 11: –ü–†–û–í–ï–†–ö–ê –†–ê–ë–û–¢–û–°–ü–û–°–û–ë–ù–û–°–¢–ò

### 11.1. –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞ —Å–µ—Ä–≤–∏—Å–∞

```bash
# –ù–∞ —Å–µ—Ä–≤–µ—Ä–µ
sudo systemctl status trading-bot.service

# –î–æ–ª–∂–Ω–æ –±—ã—Ç—å: active (running)
```

### 11.2. –ü—Ä–æ–≤–µ—Ä–∫–∞ –ª–æ–≥–æ–≤

```bash
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–æ—Å–ª–µ–¥–Ω–∏–µ –∑–∞–ø–∏—Å–∏
tail -n 50 ~/trading_bot/logs/trading_bot.log

# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –æ—à–∏–±–∫–∏
grep -i error ~/trading_bot/logs/trading_bot.log | tail -20
```

### 11.3. –ü—Ä–æ–≤–µ—Ä–∫–∞ —á–µ—Ä–µ–∑ Telegram

- –û—Ç–ø—Ä–∞–≤—å—Ç–µ –∫–æ–º–∞–Ω–¥—É `/status` –±–æ—Ç—É –≤ Telegram
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –±–æ—Ç –æ—Ç–≤–µ—á–∞–µ—Ç

---

## –ß–ï–ö–õ–ò–°–¢ –†–ê–ó–í–ï–†–¢–´–í–ê–ù–ò–Ø

- [ ] –í—ã–±—Ä–∞–Ω –∏ –Ω–∞—Å—Ç—Ä–æ–µ–Ω VPS —Å–µ—Ä–≤–µ—Ä
- [ ] –£—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω Python –∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
- [ ] –ö–æ–¥ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω —á–µ—Ä–µ–∑ Git –∏–ª–∏ rsync
- [ ] –°–æ–∑–¥–∞–Ω .env —Ñ–∞–π–ª –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ
- [ ] –ë–æ—Ç –∑–∞–ø—É—â–µ–Ω –∫–∞–∫ systemd —Å–µ—Ä–≤–∏—Å
- [ ] –ù–∞—Å—Ç—Ä–æ–µ–Ω–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è
- [ ] –ù–∞—Å—Ç—Ä–æ–µ–Ω–æ —Ä–µ–∑–µ—Ä–≤–Ω–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ
- [ ] –ù–∞—Å—Ç—Ä–æ–µ–Ω —Ñ–∞–π—Ä–≤–æ–ª
- [ ] –ü—Ä–æ–≤–µ—Ä–µ–Ω–∞ —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç—å
- [ ] –ù–∞—Å—Ç—Ä–æ–µ–Ω –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

---

## –†–ï–®–ï–ù–ò–ï –ü–†–û–ë–õ–ï–ú

### –ë–æ—Ç –Ω–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è

```bash
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏
sudo journalctl -u trading-bot.service -n 50

# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞
ls -la ~/trading_bot/.env

# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ
source ~/trading_bot/venv/bin/activate
python --version
```

### –ë–æ—Ç –ø–∞–¥–∞–µ—Ç

```bash
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –æ—à–∏–±–æ–∫
tail -f ~/trading_bot/logs/bot_error.log

# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Ä–µ—Å—É—Ä—Å–æ–≤
htop

# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ API
curl -I https://api-invest.tinkoff.ru
```

### –ü—Ä–æ–±–ª–µ–º—ã —Å —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–µ–π

```bash
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ Git —Å—Ç–∞—Ç—É—Å
cd ~/trading_bot
git status

# –ü—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ
git fetch origin
git reset --hard origin/main
```

---

## –î–û–ü–û–õ–ù–ò–¢–ï–õ–¨–ù–´–ï –†–ï–ö–û–ú–ï–ù–î–ê–¶–ò–ò

1. **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ Git –¥–ª—è –≤–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è** - —ç—Ç–æ —Å–∞–º—ã–π –Ω–∞–¥–µ–∂–Ω—ã–π —Å–ø–æ—Å–æ–± —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏
2. **–†–µ–≥—É–ª—è—Ä–Ω–æ –¥–µ–ª–∞–π—Ç–µ –±—ç–∫–∞–ø—ã** - –æ—Å–æ–±–µ–Ω–Ω–æ audit_logs –∏ state
3. **–ú–æ–Ω–∏—Ç–æ—Ä—å—Ç–µ —Ä–µ—Å—É—Ä—Å—ã —Å–µ—Ä–≤–µ—Ä–∞** - —Å–ª–µ–¥–∏—Ç–µ –∑–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º CPU/RAM
4. **–ù–∞—Å—Ç—Ä–æ–π—Ç–µ –∞–ª–µ—Ä—Ç—ã** - –ø–æ–ª—É—á–∞–π—Ç–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ –ø—Ä–æ–±–ª–µ–º–∞—Ö —á–µ—Ä–µ–∑ Telegram
5. **–î–æ–∫—É–º–µ–Ω—Ç–∏—Ä—É–π—Ç–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è** - –≤–µ–¥–∏—Ç–µ changelog –¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π

---

## –ö–û–ù–¢–ê–ö–¢–´ –ò –ü–û–î–î–ï–†–ñ–ö–ê

–ü—Ä–∏ –≤–æ–∑–Ω–∏–∫–Ω–æ–≤–µ–Ω–∏–∏ –ø—Ä–æ–±–ª–µ–º:
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å—Ç–∞—Ç—É—Å —Å–µ—Ä–≤–∏—Å–∞
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ API –∏ Telegram
4. –ü—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ —Å–µ—Ä–≤–∏—Å

## –¶–µ–ª—å
–ó–∞–ø—É—Å—Ç–∏—Ç—å –±–æ—Ç–∞ –Ω–∞ —É–¥–∞–ª–µ–Ω–Ω–æ–º —Å–µ—Ä–≤–µ—Ä–µ 24/7 —Å —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–µ–π –∫–æ–¥–∞ —Å –ª–æ–∫–∞–ª—å–Ω–æ–π –º–∞—à–∏–Ω—ã.

## ‚ö†Ô∏è –í–ê–ñ–ù–û: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ IPv4

**–í—Å–µ –∫–æ–º–∞–Ω–¥—ã –≤ —ç—Ç–æ–π –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –∏—Å–ø–æ–ª—å–∑—É—é—Ç IPv4 –∞–¥—Ä–µ—Å —Å–µ—Ä–≤–µ—Ä–∞.**

–ó–∞–º–µ–Ω–∏—Ç–µ `YOUR_IPv4_ADDRESS` –Ω–∞ –≤–∞—à —Ä–µ–∞–ª—å–Ω—ã–π IPv4 –∞–¥—Ä–µ—Å —Å–µ—Ä–≤–µ—Ä–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä, `192.168.1.100`).

**IPv4 –∞–¥—Ä–µ—Å —É–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –ë–ï–ó –∫–≤–∞–¥—Ä–∞—Ç–Ω—ã—Ö —Å–∫–æ–±–æ–∫** (–≤ –æ—Ç–ª–∏—á–∏–µ –æ—Ç IPv6).

## –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Ä–µ—à–µ–Ω–∏—è

```
–õ–æ–∫–∞–ª—å–Ω—ã–π –∫–æ–º–ø—å—é—Ç–µ—Ä (—Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞)
    ‚Üì (—Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è —á–µ—Ä–µ–∑ Git/rsync)
–£–¥–∞–ª–µ–Ω–Ω—ã–π —Å–µ—Ä–≤–µ—Ä (–ø—Ä–æ–¥–∞–∫—à–Ω)
    ‚Üì (–∑–∞–ø—É—Å–∫ —á–µ—Ä–µ–∑ systemd/supervisor)
–ë–æ—Ç —Ä–∞–±–æ—Ç–∞–µ—Ç 24/7
```

---

## –≠–¢–ê–ü 1: –í–´–ë–û–† –ò –ù–ê–°–¢–†–û–ô–ö–ê –°–ï–†–í–ï–†–ê

### 1.1. –í—ã–±–æ—Ä VPS –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞

**–†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–µ –≤–∞—Ä–∏–∞–Ω—Ç—ã:**
- **Timeweb Cloud** (–†–æ—Å—Å–∏—è) - –æ—Ç 200‚ÇΩ/–º–µ—Å
- **Selectel** (–†–æ—Å—Å–∏—è) - –æ—Ç 300‚ÇΩ/–º–µ—Å
- **DigitalOcean** (–º–µ–∂–¥—É–Ω–∞—Ä–æ–¥–Ω—ã–π) - –æ—Ç $6/–º–µ—Å
- **Hetzner** (–ì–µ—Ä–º–∞–Ω–∏—è) - –æ—Ç ‚Ç¨4/–º–µ—Å
- **AWS Lightsail** (–º–µ–∂–¥—É–Ω–∞—Ä–æ–¥–Ω—ã–π) - –æ—Ç $5/–º–µ—Å

**–ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è:**
- CPU: 1-2 —è–¥—Ä–∞
- RAM: 1-2 GB
- –î–∏—Å–∫: 20-40 GB SSD
- –û–°: Ubuntu 22.04 LTS –∏–ª–∏ Debian 12
- –°–µ—Ç—å: —Å—Ç–∞–±–∏–ª—å–Ω–æ–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ

### 1.2. –ü–µ—Ä–≤–æ–Ω–∞—á–∞–ª—å–Ω–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞

```bash
# 1. –ü–æ–¥–∫–ª—é—á–∏—Ç–µ—Å—å –∫ —Å–µ—Ä–≤–µ—Ä—É –ø–æ SSH (–∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ IPv4 –∞–¥—Ä–µ—Å)
ssh root@YOUR_IPv4_ADDRESS
# –ü—Ä–∏–º–µ—Ä: ssh root@192.168.1.100

# 2. –û–±–Ω–æ–≤–∏—Ç–µ —Å–∏—Å—Ç–µ–º—É
apt update && apt upgrade -y

# 3. –°–æ–∑–¥–∞–π—Ç–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –¥–ª—è –±–æ—Ç–∞ (–Ω–µ root!)
adduser botuser
usermod -aG sudo botuser

# 4. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ SSH –∫–ª—é—á–∏ (–¥–ª—è –±–µ–∑–æ–ø–∞—Å–Ω–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞)
# –ù–∞ –ª–æ–∫–∞–ª—å–Ω–æ–π –º–∞—à–∏–Ω–µ (Windows PowerShell):
ssh-keygen -t ed25519 -C "bot_deployment"
# –°–∫–æ–ø–∏—Ä—É–π—Ç–µ –ø—É–±–ª–∏—á–Ω—ã–π –∫–ª—é—á –Ω–∞ —Å–µ—Ä–≤–µ—Ä (–∑–∞–º–µ–Ω–∏—Ç–µ YOUR_IPv4_ADDRESS):
type $env:USERPROFILE\.ssh\id_ed25519.pub | ssh botuser@YOUR_IPv4_ADDRESS "mkdir -p ~/.ssh && cat >> ~/.ssh/authorized_keys"
# –ü—Ä–∏–º–µ—Ä: type $env:USERPROFILE\.ssh\id_ed25519.pub | ssh botuser@192.168.1.100 "mkdir -p ~/.ssh && cat >> ~/.ssh/authorized_keys"

# 5. –û—Ç–∫–ª—é—á–∏—Ç–µ –≤—Ö–æ–¥ –ø–æ –ø–∞—Ä–æ–ª—é (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ, –¥–ª—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏)
# –ù–∞ —Å–µ—Ä–≤–µ—Ä–µ –≤ /etc/ssh/sshd_config:
# PasswordAuthentication no
# –ó–∞—Ç–µ–º: sudo systemctl restart sshd
```

---

## –≠–¢–ê–ü 2: –£–°–¢–ê–ù–û–í–ö–ê –ó–ê–í–ò–°–ò–ú–û–°–¢–ï–ô –ù–ê –°–ï–†–í–ï–†–ï

### 2.1. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ Python –∏ —Å–∏—Å—Ç–µ–º–Ω—ã—Ö –ø–∞–∫–µ—Ç–æ–≤

```bash
# –ü–æ–¥–∫–ª—é—á–∏—Ç–µ—Å—å –∫–∞–∫ botuser (–∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ IPv4 –∞–¥—Ä–µ—Å)
ssh botuser@YOUR_IPv4_ADDRESS
# –ü—Ä–∏–º–µ—Ä: ssh botuser@192.168.1.100

# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ Python 3.11+ –∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –ø–∞–∫–µ—Ç—ã
sudo apt install -y python3.11 python3.11-venv python3-pip git curl

# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
sudo apt install -y build-essential libssl-dev libffi-dev python3-dev
```

### 2.2. –°–æ–∑–¥–∞–Ω–∏–µ —Ä–∞–±–æ—á–µ–π –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏

```bash
# –°–æ–∑–¥–∞–π—Ç–µ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é –¥–ª—è –±–æ—Ç–∞
mkdir -p ~/trading_bot
cd ~/trading_bot
```

---

## –≠–¢–ê–ü 3: –°–ò–ù–•–†–û–ù–ò–ó–ê–¶–ò–Ø –ö–û–î–ê

### –í–∞—Ä–∏–∞–Ω—Ç A: –ß–µ—Ä–µ–∑ Git (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

#### 3.1. –ù–∞ –ª–æ–∫–∞–ª—å–Ω–æ–π –º–∞—à–∏–Ω–µ

```bash
# 1. –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–π—Ç–µ Git —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π (–µ—Å–ª–∏ –µ—â–µ –Ω–µ —Å–¥–µ–ª–∞–Ω–æ)
cd "C:\Users\karim\OneDrive\–†–∞–±–æ—á–∏–π —Å—Ç–æ–ª\Bot"
git init

# 2. –°–æ–∑–¥–∞–π—Ç–µ .gitignore (–µ—Å–ª–∏ –Ω–µ—Ç)
# –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤ .gitignore –µ—Å—Ç—å:
# .env
# *.log
# __pycache__/
# audit_logs/
# data_cache/
# state/

# 3. –°–æ–∑–¥–∞–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π –Ω–∞ GitHub/GitLab (–∏–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø—Ä–∏–≤–∞—Ç–Ω—ã–π)
# –ù–∞ GitHub: —Å–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—ã–π –ø—Ä–∏–≤–∞—Ç–Ω—ã–π —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π

# 4. –î–æ–±–∞–≤—å—Ç–µ —Ñ–∞–π–ª—ã –∏ –∑–∞–∫–æ–º–º–∏—Ç—å—Ç–µ
git add .
git commit -m "Initial commit"
git branch -M main
git remote add origin https://github.com/–≤–∞—à_username/trading_bot.git
git push -u origin main
```

#### 3.2. –ù–∞ —Å–µ—Ä–≤–µ—Ä–µ

**–í–ê–ñ–ù–û:** –ü–æ–¥–∫–ª—é—á–∏—Ç–µ—Å—å –∫ —Å–µ—Ä–≤–µ—Ä—É –ø–æ SSH –ø–µ—Ä–µ–¥ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ–º –∫–æ–º–∞–Ω–¥:

```bash
# 1. –ü–æ–¥–∫–ª—é—á–∏—Ç–µ—Å—å –∫ —Å–µ—Ä–≤–µ—Ä—É (–∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ IPv4 –∞–¥—Ä–µ—Å)
ssh botuser@YOUR_IPv4_ADDRESS
# –ü—Ä–∏–º–µ—Ä: ssh botuser@192.168.1.100

# 2. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ –¥–æ–º–∞—à–Ω—é—é –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é
cd ~

# 3. –ö–ª–æ–Ω–∏—Ä—É–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
git clone https://github.com/Niyaz-313/trading_bot.git trading_bot
cd trading_bot

# 4. –°–æ–∑–¥–∞–π—Ç–µ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ
python3 -m venv venv
source venv/bin/activate

# 5. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
pip install --upgrade pip
pip install -r requirements.txt
```

**–ï—Å–ª–∏ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π –ø—Ä–∏–≤–∞—Ç–Ω—ã–π, –Ω–∞—Å—Ç—Ä–æ–π—Ç–µ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—é:**
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ Personal Access Token (—Å–º. –ü–û–î–ö–õ–Æ–ß–ï–ù–ò–ï_GIT_–ö_–°–ï–†–í–ï–†–£.md)
- –ò–ª–∏ –Ω–∞—Å—Ç—Ä–æ–π—Ç–µ SSH –∫–ª—é—á–∏ –¥–ª—è GitHub

### –í–∞—Ä–∏–∞–Ω—Ç B: –ß–µ—Ä–µ–∑ rsync (–∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞)

#### 3.1. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –Ω–∞ –ª–æ–∫–∞–ª—å–Ω–æ–π –º–∞—à–∏–Ω–µ (Windows)

**–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ WSL –∏–ª–∏ Git Bash:**

```bash
# –ß–µ—Ä–µ–∑ WSL (–∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ IPv4 –∞–¥—Ä–µ—Å)
wsl rsync -avz --exclude='.env' --exclude='*.log' --exclude='__pycache__' \
  --exclude='audit_logs' --exclude='data_cache' --exclude='state' \
  /mnt/c/Users/karim/OneDrive/–†–∞–±–æ—á–∏–π\ —Å—Ç–æ–ª/Bot/ \
  botuser@YOUR_IPv4_ADDRESS:~/trading_bot/
# –ü—Ä–∏–º–µ—Ä: botuser@192.168.1.100:~/trading_bot/
```

---

## –≠–¢–ê–ü 4: –ù–ê–°–¢–†–û–ô–ö–ê –û–ö–†–£–ñ–ï–ù–ò–Ø –ù–ê –°–ï–†–í–ï–†–ï

### 4.1. –°–æ–∑–¥–∞–Ω–∏–µ .env —Ñ–∞–π–ª–∞ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ

```bash
# –ù–∞ —Å–µ—Ä–≤–µ—Ä–µ
cd ~/trading_bot
nano .env

# –°–∫–æ–ø–∏—Ä—É–π—Ç–µ —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ –≤–∞—à–µ–≥–æ .env —Ñ–∞–π–ª–∞ —Å –ª–æ–∫–∞–ª—å–Ω–æ–π –º–∞—à–∏–Ω—ã
# –í–ê–ñ–ù–û: –ù–µ –∫–æ–º–º–∏—Ç—å—Ç–µ .env –≤ Git!
```

**–ò–ª–∏ —Å–∫–æ–ø–∏—Ä—É–π—Ç–µ —á–µ—Ä–µ–∑ SCP (–∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ IPv4 –∞–¥—Ä–µ—Å):**

```powershell
# –ù–∞ –ª–æ–∫–∞–ª—å–Ω–æ–π –º–∞—à–∏–Ω–µ (PowerShell)
scp "C:\Users\karim\OneDrive\–†–∞–±–æ—á–∏–π —Å—Ç–æ–ª\Bot\.env" botuser@YOUR_IPv4_ADDRESS:~/trading_bot/.env
# –ü—Ä–∏–º–µ—Ä: scp "C:\Users\karim\OneDrive\–†–∞–±–æ—á–∏–π —Å—Ç–æ–ª\Bot\.env" botuser@192.168.1.100:~/trading_bot/.env
```

### 4.2. –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–π

```bash
# –ù–∞ —Å–µ—Ä–≤–µ—Ä–µ
cd ~/trading_bot
source venv/bin/activate

# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ T-Invest API
python3 -c "from broker_api import BrokerAPI; b = BrokerAPI(paper_trading=True); print('OK' if b.client else 'FAIL')"

# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ Telegram –±–æ—Ç–∞
python3 -c "from telegram_bot import TelegramBot; t = TelegramBot(); print('OK')"
```

---

## –≠–¢–ê–ü 5: –ó–ê–ü–£–°–ö –ë–û–¢–ê –ö–ê–ö –°–ï–†–í–ò–°–ê

### –í–∞—Ä–∏–∞–Ω—Ç A: Systemd (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –¥–ª—è Linux)

#### 5.1. –°–æ–∑–¥–∞–Ω–∏–µ systemd —Å–µ—Ä–≤–∏—Å–∞

```bash
# –ù–∞ —Å–µ—Ä–≤–µ—Ä–µ
sudo nano /etc/systemd/system/trading-bot.service
```

**–°–æ–¥–µ—Ä–∂–∏–º–æ–µ —Ñ–∞–π–ª–∞:**

```ini
[Unit]
Description=Trading Bot Service
After=network.target

[Service]
Type=simple
User=botuser
WorkingDirectory=/home/botuser/trading_bot
Environment="PATH=/home/botuser/trading_bot/venv/bin:/usr/local/bin:/usr/bin:/bin"
ExecStart=/home/botuser/trading_bot/venv/bin/python /home/botuser/trading_bot/main.py
Restart=always
RestartSec=10
StandardOutput=append:/home/botuser/trading_bot/logs/bot_output.log
StandardError=append:/home/botuser/trading_bot/logs/bot_error.log

[Install]
WantedBy=multi-user.target
```

#### 5.2. –ê–∫—Ç–∏–≤–∞—Ü–∏—è –∏ –∑–∞–ø—É—Å–∫ —Å–µ—Ä–≤–∏—Å–∞

```bash
# –°–æ–∑–¥–∞–π—Ç–µ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é –¥–ª—è –ª–æ–≥–æ–≤
mkdir -p ~/trading_bot/logs

# –ü–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∏—Ç–µ systemd
sudo systemctl daemon-reload

# –í–∫–ª—é—á–∏—Ç–µ –∞–≤—Ç–æ–∑–∞–ø—É—Å–∫
sudo systemctl enable trading-bot.service

# –ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å–µ—Ä–≤–∏—Å
sudo systemctl start trading-bot.service

# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å—Ç–∞—Ç—É—Å
sudo systemctl status trading-bot.service

# –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤
sudo journalctl -u trading-bot.service -f
```

### –í–∞—Ä–∏–∞–Ω—Ç B: Supervisor (–∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞)

#### 5.1. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ Supervisor

```bash
sudo apt install -y supervisor
```

#### 5.2. –°–æ–∑–¥–∞–Ω–∏–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏

```bash
sudo nano /etc/supervisor/conf.d/trading-bot.conf
```

**–°–æ–¥–µ—Ä–∂–∏–º–æ–µ:**

```ini
[program:trading-bot]
command=/home/botuser/trading_bot/venv/bin/python /home/botuser/trading_bot/main.py
directory=/home/botuser/trading_bot
user=botuser
autostart=true
autorestart=true
redirect_stderr=true
stdout_logfile=/home/botuser/trading_bot/logs/bot_output.log
stderr_logfile=/home/botuser/trading_bot/logs/bot_error.log
```

#### 5.3. –ó–∞–ø—É—Å–∫

```bash
sudo supervisorctl reread
sudo supervisorctl update
sudo supervisorctl start trading-bot
sudo supervisorctl status
```

### –í–∞—Ä–∏–∞–Ω—Ç C: Screen/Tmux (–ø—Ä–æ—Å—Ç–æ–π –≤–∞—Ä–∏–∞–Ω—Ç)

```bash
# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ screen
sudo apt install -y screen

# –°–æ–∑–¥–∞–π—Ç–µ —Å–µ—Å—Å–∏—é
screen -S trading_bot

# –ê–∫—Ç–∏–≤–∏—Ä—É–π—Ç–µ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ –∏ –∑–∞–ø—É—Å—Ç–∏—Ç–µ –±–æ—Ç–∞
cd ~/trading_bot
source venv/bin/activate
python main.py

# –û—Ç–∫–ª—é—á–∏—Ç–µ—Å—å: Ctrl+A, –∑–∞—Ç–µ–º D
# –ü–æ–¥–∫–ª—é—á–∏—Ç–µ—Å—å –æ–±—Ä–∞—Ç–Ω–æ: screen -r trading_bot
```

---

## –≠–¢–ê–ü 6: –ê–í–¢–û–ú–ê–¢–ò–ß–ï–°–ö–ê–Ø –°–ò–ù–•–†–û–ù–ò–ó–ê–¶–ò–Ø –ö–û–î–ê

### 6.1. –°–∫—Ä–∏–ø—Ç —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏ –Ω–∞ –ª–æ–∫–∞–ª—å–Ω–æ–π –º–∞—à–∏–Ω–µ

**–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –≥–æ—Ç–æ–≤—ã–π —Å–∫—Ä–∏–ø—Ç `sync_to_server.bat` (—Å–º. –Ω–∏–∂–µ)**

### 6.2. –°–∫—Ä–∏–ø—Ç –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ

**–°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `~/trading_bot/update.sh` –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ:**

```bash
#!/bin/bash
cd ~/trading_bot

# –ê–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ
source venv/bin/activate

# –û–±–Ω–æ–≤–∏—Ç—å –∫–æ–¥ –∏–∑ Git
git pull origin main

# –û–±–Ω–æ–≤–∏—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ (–µ—Å–ª–∏ requirements.txt –∏–∑–º–µ–Ω–∏–ª—Å—è)
pip install -r requirements.txt

# –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å —Å–µ—Ä–≤–∏—Å
sudo systemctl restart trading-bot.service

echo "–ë–æ—Ç –æ–±–Ω–æ–≤–ª–µ–Ω –∏ –ø–µ—Ä–µ–∑–∞–ø—É—â–µ–Ω"
```

**–°–¥–µ–ª–∞–π—Ç–µ –∏—Å–ø–æ–ª–Ω—è–µ–º—ã–º:**
```bash
chmod +x ~/trading_bot/update.sh
```

### 6.3. –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è —á–µ—Ä–µ–∑ cron (–Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ)

```bash
# –ù–∞ —Å–µ—Ä–≤–µ—Ä–µ: –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫–∞–∂–¥—ã–µ 6 —á–∞—Å–æ–≤
crontab -e

# –î–æ–±–∞–≤—å—Ç–µ —Å—Ç—Ä–æ–∫—É:
0 */6 * * * cd /home/botuser/trading_bot && /home/botuser/trading_bot/update.sh >> /home/botuser/trading_bot/logs/update.log 2>&1
```

---

## –≠–¢–ê–ü 7: –ú–û–ù–ò–¢–û–†–ò–ù–ì –ò –õ–û–ì–ò–†–û–í–ê–ù–ò–ï

### 7.1. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è

**–£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤ `config.py` –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã –ø—É—Ç–∏ –∫ –ª–æ–≥–∞–º:**

```python
LOG_FILE = 'logs/trading_bot.log'
AUDIT_LOG_PATH = 'audit_logs/trades_audit.jsonl'
```

### 7.2. –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —á–µ—Ä–µ–∑ Telegram

–ë–æ—Ç —É–∂–µ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –≤ Telegram. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ:
- `TELEGRAM_BOT_TOKEN` –Ω–∞—Å—Ç—Ä–æ–µ–Ω
- `TELEGRAM_CHAT_ID` –Ω–∞—Å—Ç—Ä–æ–µ–Ω

### 7.3. –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —Å–µ—Ä–≤–µ—Ä–∞

**–£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ —É—Ç–∏–ª–∏—Ç—ã –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞:**

```bash
# htop –¥–ª—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ —Ä–µ—Å—É—Ä—Å–æ–≤
sudo apt install -y htop

# netdata –¥–ª—è –≤–µ–±-–º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
bash <(curl -Ss https://my-netdata.io/kickstart.sh)
```

---

## –≠–¢–ê–ü 8: –†–ï–ó–ï–†–í–ù–û–ï –ö–û–ü–ò–†–û–í–ê–ù–ò–ï

### 8.1. –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Ä–µ–∑–µ—Ä–≤–Ω–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞ –ª–æ–∫–∞–ª—å–Ω—É—é –º–∞—à–∏–Ω—É

**–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –≥–æ—Ç–æ–≤—ã–π —Å–∫—Ä–∏–ø—Ç `backup_from_server.bat` (—Å–º. –Ω–∏–∂–µ)**

### 8.2. –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Ä–µ–∑–µ—Ä–≤–Ω–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ

**–°–æ–∑–¥–∞–π—Ç–µ —Å–∫—Ä–∏–ø—Ç `~/trading_bot/backup.sh`:**

```bash
#!/bin/bash
BACKUP_DIR=~/backups/trading_bot
DATE=$(date +%Y%m%d_%H%M%S)

mkdir -p $BACKUP_DIR

# –†–µ–∑–µ—Ä–≤–Ω–∞—è –∫–æ–ø–∏—è –≤–∞–∂–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
tar -czf $BACKUP_DIR/audit_$DATE.tar.gz audit_logs/
tar -czf $BACKUP_DIR/state_$DATE.tar.gz state/

# –£–¥–∞–ª–∏—Ç—å —Å—Ç–∞—Ä—ã–µ –±—ç–∫–∞–ø—ã (—Å—Ç–∞—Ä—à–µ 30 –¥–Ω–µ–π)
find $BACKUP_DIR -name "*.tar.gz" -mtime +30 -delete

echo "–†–µ–∑–µ—Ä–≤–Ω–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ –∑–∞–≤–µ—Ä—à–µ–Ω–æ: $DATE"
```

**–°–¥–µ–ª–∞–π—Ç–µ –∏—Å–ø–æ–ª–Ω—è–µ–º—ã–º:**
```bash
chmod +x ~/trading_bot/backup.sh
```

**–î–æ–±–∞–≤—å—Ç–µ –≤ cron:**
```bash
crontab -e
# –ï–∂–µ–¥–Ω–µ–≤–Ω–æ–µ —Ä–µ–∑–µ—Ä–≤–Ω–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ 3:00
0 3 * * * /home/botuser/trading_bot/backup.sh >> /home/botuser/trading_bot/logs/backup.log 2>&1
```

---

## –≠–¢–ê–ü 9: –ë–ï–ó–û–ü–ê–°–ù–û–°–¢–¨

### 9.1. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Ñ–∞–π—Ä–≤–æ–ª–∞

```bash
# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ ufw
sudo apt install -y ufw

# –†–∞–∑—Ä–µ—à–∏—Ç–µ SSH
sudo ufw allow 22/tcp

# –†–∞–∑—Ä–µ—à–∏—Ç–µ —Ç–æ–ª—å–∫–æ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –ø–æ—Ä—Ç—ã
# (–¥–ª—è –±–æ—Ç–∞ –æ–±—ã—á–Ω–æ –Ω–µ –Ω—É–∂–Ω—ã –æ—Ç–∫—Ä—ã—Ç—ã–µ –ø–æ—Ä—Ç—ã, —Ç–æ–ª—å–∫–æ –∏—Å—Ö–æ–¥—è—â–∏–µ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è)

# –í–∫–ª—é—á–∏—Ç–µ —Ñ–∞–π—Ä–≤–æ–ª
sudo ufw enable
sudo ufw status
```

### 9.2. –ó–∞—â–∏—Ç–∞ .env —Ñ–∞–π–ª–∞

```bash
# –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ .env –Ω–µ –¥–æ—Å—Ç—É–ø–µ–Ω –¥–ª—è —á—Ç–µ–Ω–∏—è –¥—Ä—É–≥–∏–º–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏
chmod 600 ~/trading_bot/.env

# –ù–µ –∫–æ–º–º–∏—Ç—å—Ç–µ .env –≤ Git (—É–∂–µ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –≤ .gitignore)
```

### 9.3. –†–µ–≥—É–ª—è—Ä–Ω—ã–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è

```bash
# –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏
sudo apt install -y unattended-upgrades
sudo dpkg-reconfigure -plow unattended-upgrades
```

---

## –≠–¢–ê–ü 10: –†–ê–ë–û–ß–ò–ô –ü–†–û–¶–ï–°–° –†–ê–ó–†–ê–ë–û–¢–ö–ò

### 10.1. –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞ –Ω–∞ –ª–æ–∫–∞–ª—å–Ω–æ–π –º–∞—à–∏–Ω–µ

1. –í–Ω–æ—Å–∏—Ç–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ –∫–æ–¥ –Ω–∞ –ª–æ–∫–∞–ª—å–Ω–æ–π –º–∞—à–∏–Ω–µ
2. –¢–µ—Å—Ç–∏—Ä—É–π—Ç–µ –ª–æ–∫–∞–ª—å–Ω–æ (–≤ –ø–µ—Å–æ—á–Ω–∏—Ü–µ)
3. –ö–æ–º–º–∏—Ç—å—Ç–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ Git
4. –ó–∞–ø—É—Å–∫–∞–π—Ç–µ `sync_to_server.bat` –¥–ª—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏

### 10.2. –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ

**–í–∞—Ä–∏–∞–Ω—Ç 1: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ (—á–µ—Ä–µ–∑ cron)**
- –°–µ—Ä–≤–µ—Ä –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –∫–∞–∂–¥—ã–µ 6 —á–∞—Å–æ–≤

**–í–∞—Ä–∏–∞–Ω—Ç 2: –í—Ä—É—á–Ω—É—é**
```bash
# –ù–∞ —Å–µ—Ä–≤–µ—Ä–µ (–∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ IPv4 –∞–¥—Ä–µ—Å)
ssh botuser@YOUR_IPv4_ADDRESS
# –ü—Ä–∏–º–µ—Ä: ssh botuser@192.168.1.100
cd ~/trading_bot
./update.sh
```

### 10.3. –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤

```bash
# –ù–∞ —Å–µ—Ä–≤–µ—Ä–µ
# Systemd
sudo journalctl -u trading-bot.service -f

# –ò–ª–∏ –Ω–∞–ø—Ä—è–º—É—é
tail -f ~/trading_bot/logs/trading_bot.log
tail -f ~/trading_bot/audit_logs/trades_audit.jsonl
```

---

## –≠–¢–ê–ü 11: –ü–†–û–í–ï–†–ö–ê –†–ê–ë–û–¢–û–°–ü–û–°–û–ë–ù–û–°–¢–ò

### 11.1. –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞ —Å–µ—Ä–≤–∏—Å–∞

```bash
# –ù–∞ —Å–µ—Ä–≤–µ—Ä–µ
sudo systemctl status trading-bot.service

# –î–æ–ª–∂–Ω–æ –±—ã—Ç—å: active (running)
```

### 11.2. –ü—Ä–æ–≤–µ—Ä–∫–∞ –ª–æ–≥–æ–≤

```bash
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–æ—Å–ª–µ–¥–Ω–∏–µ –∑–∞–ø–∏—Å–∏
tail -n 50 ~/trading_bot/logs/trading_bot.log

# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –æ—à–∏–±–∫–∏
grep -i error ~/trading_bot/logs/trading_bot.log | tail -20
```

### 11.3. –ü—Ä–æ–≤–µ—Ä–∫–∞ —á–µ—Ä–µ–∑ Telegram

- –û—Ç–ø—Ä–∞–≤—å—Ç–µ –∫–æ–º–∞–Ω–¥—É `/status` –±–æ—Ç—É –≤ Telegram
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –±–æ—Ç –æ—Ç–≤–µ—á–∞–µ—Ç

---

## –ß–ï–ö–õ–ò–°–¢ –†–ê–ó–í–ï–†–¢–´–í–ê–ù–ò–Ø

- [ ] –í—ã–±—Ä–∞–Ω –∏ –Ω–∞—Å—Ç—Ä–æ–µ–Ω VPS —Å–µ—Ä–≤–µ—Ä
- [ ] –£—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω Python –∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
- [ ] –ö–æ–¥ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω —á–µ—Ä–µ–∑ Git –∏–ª–∏ rsync
- [ ] –°–æ–∑–¥–∞–Ω .env —Ñ–∞–π–ª –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ
- [ ] –ë–æ—Ç –∑–∞–ø—É—â–µ–Ω –∫–∞–∫ systemd —Å–µ—Ä–≤–∏—Å
- [ ] –ù–∞—Å—Ç—Ä–æ–µ–Ω–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è
- [ ] –ù–∞—Å—Ç—Ä–æ–µ–Ω–æ —Ä–µ–∑–µ—Ä–≤–Ω–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ
- [ ] –ù–∞—Å—Ç—Ä–æ–µ–Ω —Ñ–∞–π—Ä–≤–æ–ª
- [ ] –ü—Ä–æ–≤–µ—Ä–µ–Ω–∞ —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç—å
- [ ] –ù–∞—Å—Ç—Ä–æ–µ–Ω –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

---

## –†–ï–®–ï–ù–ò–ï –ü–†–û–ë–õ–ï–ú

### –ë–æ—Ç –Ω–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è

```bash
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏
sudo journalctl -u trading-bot.service -n 50

# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞
ls -la ~/trading_bot/.env

# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ
source ~/trading_bot/venv/bin/activate
python --version
```

### –ë–æ—Ç –ø–∞–¥–∞–µ—Ç

```bash
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –æ—à–∏–±–æ–∫
tail -f ~/trading_bot/logs/bot_error.log

# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Ä–µ—Å—É—Ä—Å–æ–≤
htop

# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ API
curl -I https://api-invest.tinkoff.ru
```

### –ü—Ä–æ–±–ª–µ–º—ã —Å —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–µ–π

```bash
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ Git —Å—Ç–∞—Ç—É—Å
cd ~/trading_bot
git status

# –ü—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ
git fetch origin
git reset --hard origin/main
```

---

## –î–û–ü–û–õ–ù–ò–¢–ï–õ–¨–ù–´–ï –†–ï–ö–û–ú–ï–ù–î–ê–¶–ò–ò

1. **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ Git –¥–ª—è –≤–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è** - —ç—Ç–æ —Å–∞–º—ã–π –Ω–∞–¥–µ–∂–Ω—ã–π —Å–ø–æ—Å–æ–± —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏
2. **–†–µ–≥—É–ª—è—Ä–Ω–æ –¥–µ–ª–∞–π—Ç–µ –±—ç–∫–∞–ø—ã** - –æ—Å–æ–±–µ–Ω–Ω–æ audit_logs –∏ state
3. **–ú–æ–Ω–∏—Ç–æ—Ä—å—Ç–µ —Ä–µ—Å—É—Ä—Å—ã —Å–µ—Ä–≤–µ—Ä–∞** - —Å–ª–µ–¥–∏—Ç–µ –∑–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º CPU/RAM
4. **–ù–∞—Å—Ç—Ä–æ–π—Ç–µ –∞–ª–µ—Ä—Ç—ã** - –ø–æ–ª—É—á–∞–π—Ç–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ –ø—Ä–æ–±–ª–µ–º–∞—Ö —á–µ—Ä–µ–∑ Telegram
5. **–î–æ–∫—É–º–µ–Ω—Ç–∏—Ä—É–π—Ç–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è** - –≤–µ–¥–∏—Ç–µ changelog –¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π

---

## –ö–û–ù–¢–ê–ö–¢–´ –ò –ü–û–î–î–ï–†–ñ–ö–ê

–ü—Ä–∏ –≤–æ–∑–Ω–∏–∫–Ω–æ–≤–µ–Ω–∏–∏ –ø—Ä–æ–±–ª–µ–º:
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å—Ç–∞—Ç—É—Å —Å–µ—Ä–≤–∏—Å–∞
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ API –∏ Telegram
4. –ü—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ —Å–µ—Ä–≤–∏—Å
