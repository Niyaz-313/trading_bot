# –ò–°–ü–†–ê–í–õ–ï–ù–ò–Ø: –ë–õ–û–ö–ò–†–û–í–ö–ò –ü–û–ö–£–ü–û–ö –í –ù–û–ß–ù–û–ï –í–†–ï–ú–Ø

## üìã –ü—Ä–æ–±–ª–µ–º–∞

–ë–ª–æ–∫–∏—Ä–æ–≤–∫–∏ –ø–æ–∫—É–ø–æ–∫ –ø–æ `trading_status` –∏ —Ñ–ª–∞–≥–∞–º `api_trade_available_flag`/`buy_available_flag` –±–ª–æ–∫–∏—Ä–æ–≤–∞–ª–∏ –ø–æ–∫—É–ø–∫–∏ –≤ –Ω–æ—á–Ω–æ–µ –≤—Ä–µ–º—è, —Ö–æ—Ç—è —Ä–∞–Ω–µ–µ –æ–Ω–∏ —Ä–∞–±–æ—Ç–∞–ª–∏ —É—Å–ø–µ—à–Ω–æ (–ø—Ä–∏–º–µ—Ä—ã: 2026-01-04 02:02, 03:29, 06:00).

## ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è

### 1. **tinvest_api.py** - `place_market_order()`
**–°—Ç—Ä–æ–∫–∏:** 1620-1647

**–ë—ã–ª–æ:** –ü—Ä–æ–≤–µ—Ä–∫–∞ GetTradingStatus –±–ª–æ–∫–∏—Ä–æ–≤–∞–ª–∞ –ø–æ–∫—É–ø–∫–∏, –µ—Å–ª–∏ —Å—Ç–∞—Ç—É—Å != 1 (NORMAL_TRADING)

**–°—Ç–∞–ª–æ:** 
- –ü—Ä–æ–≤–µ—Ä–∫–∞ GetTradingStatus —Ç–µ–ø–µ—Ä—å **–∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–æ–Ω–Ω–∞—è** (—Ç–æ–ª—å–∫–æ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ)
- –ù–µ –±–ª–æ–∫–∏—Ä—É–µ—Ç –ø–æ–∫—É–ø–∫–∏ –≤ –ª—é–±–æ–º —Å–ª—É—á–∞–µ
- –ü–æ–ª–∞–≥–∞–µ–º—Å—è –Ω–∞ —Ä–µ–∞–ª—å–Ω—É—é –æ—à–∏–±–∫—É API (30079), –∫–æ—Ç–æ—Ä–∞—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç—Å—è

### 2. **main.py** - `_execute_buy()`
**–°—Ç—Ä–æ–∫–∏:** 748-752

**–ë—ã–ª–æ:** –ü—Ä–æ–≤–µ—Ä–∫–∞ `trading_status` —Å `NOT_AVAILABLE` –∏–ª–∏ `api_ok/buy_ok = False` –±–ª–æ–∫–∏—Ä–æ–≤–∞–ª–∞ –ø–æ–∫—É–ø–∫–∏

**–°—Ç–∞–ª–æ:**
- –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ç–æ–ª—å–∫–æ –ª–æ–≥–∏—Ä—É–µ—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é (logger.debug)
- –ù–µ –±–ª–æ–∫–∏—Ä—É–µ—Ç –ø–æ–∫—É–ø–∫–∏
- –ü–æ–ª–∞–≥–∞–µ–º—Å—è –Ω–∞ —Ä–µ–∞–ª—å–Ω—É—é –æ—à–∏–±–∫—É API (30079)

### 3. **main.py** - –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–π –º–µ—Ç–æ–¥ `_execute_buy()` (–¥–ª—è —Å–∏–≥–Ω–∞–ª–æ–≤ –ø–æ–∫—É–ø–∫–∏)
**–°—Ç—Ä–æ–∫–∏:** 2765-2782

**–ë—ã–ª–æ:** –¢–∞ –∂–µ –±–ª–æ–∫–∏—Ä—É—é—â–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ trading_status

**–°—Ç–∞–ª–æ:**
- –£–±—Ä–∞–Ω–∞ –±–ª–æ–∫–∏—Ä–æ–≤–∫–∞
- –¢–æ–ª—å–∫–æ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–æ–Ω–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ

### 4. **main.py** - –ü—Ä–æ–¥–∞–∂–∏ –ø–æ —Å–∏–≥–Ω–∞–ª—É
**–°—Ç—Ä–æ–∫–∏:** 2512-2525

**–ë—ã–ª–æ:** –ü—Ä–æ–≤–µ—Ä–∫–∞ trading_status –±–ª–æ–∫–∏—Ä–æ–≤–∞–ª–∞ –ø—Ä–æ–¥–∞–∂–∏

**–°—Ç–∞–ª–æ:**
- –£–±—Ä–∞–Ω–∞ –±–ª–æ–∫–∏—Ä–æ–≤–∫–∞
- –¢–æ–ª—å–∫–æ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–æ–Ω–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ

### 5. **force_buy_all_symbols.py**
**–°—Ç—Ä–æ–∫–∏:** 176-186

**–ë—ã–ª–æ:** –ü—Ä–æ–≤–µ—Ä–∫–∞ `is_not_available` –±–ª–æ–∫–∏—Ä–æ–≤–∞–ª–∞ –ø–æ–∫—É–ø–∫–∏

**–°—Ç–∞–ª–æ:**
- –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞–Ω–∞ –≤ `is_not_available_by_flags` (–∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–æ–Ω–Ω–∞—è)
- –ù–µ –±–ª–æ–∫–∏—Ä—É–µ—Ç –ø–æ–∫—É–ø–∫–∏, —Ç–æ–ª—å–∫–æ –ª–æ–≥–∏—Ä—É–µ—Ç
- –ü–æ–ª–∞–≥–∞–µ–º—Å—è –Ω–∞ —Ä–µ–∞–ª—å–Ω—É—é –æ—à–∏–±–∫—É API (30079)

## üîç –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤—Ä–µ–º–µ–Ω–Ω—ã—Ö —Ñ–∏–ª—å—Ç—Ä–æ–≤

**BLOCK_RISKY_HOURS:** –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é `false` - –Ω–µ –±–ª–æ–∫–∏—Ä—É–µ—Ç
**ENABLE_TIME_FILTER:** –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é `false` - –Ω–µ –±–ª–æ–∫–∏—Ä—É–µ—Ç

–≠—Ç–∏ —Ñ–∏–ª—å—Ç—Ä—ã **–ù–ï –í–õ–ò–Ø–Æ–¢** –Ω–∞ –ø–æ–∫—É–ø–∫–∏, —Ç–∞–∫ –∫–∞–∫ –æ–Ω–∏ –≤—ã–∫–ª—é—á–µ–Ω—ã –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é.

## ‚ö†Ô∏è –í–∞–∂–Ω–æ

–í sandbox —Ñ–ª–∞–≥–∏ `trading_status`, `api_trade_available_flag` –∏ `buy_available_flag` –º–æ–≥—É—Ç –±—ã—Ç—å `False` –¥–∞–∂–µ –∫–æ–≥–¥–∞ —Ç–æ—Ä–≥–æ–≤–ª—è –≤–æ–∑–º–æ–∂–Ω–∞ (–æ—Å–æ–±–µ–Ω–Ω–æ –≤ –Ω–æ—á–Ω–æ–µ –≤—Ä–µ–º—è).

**–†–µ—à–µ–Ω–∏–µ:** –ü–æ–ª–∞–≥–∞–µ–º—Å—è –Ω–∞ —Ä–µ–∞–ª—å–Ω—É—é –æ—à–∏–±–∫—É API (30079), –∫–æ—Ç–æ—Ä–∞—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç—Å—è –∫–∞–∫ –Ω–µ–∫—Ä–∏—Ç–∏—á–Ω–∞—è.

## üìä –†–µ–∑—É–ª—å—Ç–∞—Ç

–¢–µ–ø–µ—Ä—å –ø–æ–∫—É–ø–∫–∏ –∏ –ø—Ä–æ–¥–∞–∂–∏ —Ä–∞–±–æ—Ç–∞—é—Ç **–≤ –ª—é–±–æ–µ –≤—Ä–µ–º—è**, –∫–∞–∫ –∏ —Ä–∞–Ω—å—à–µ:
- ‚úÖ –ü–æ–∫—É–ø–∫–∏ –ø–æ —Å–∏–≥–Ω–∞–ª—É
- ‚úÖ –ü–æ–∫—É–ø–∫–∏ –≤ –ø—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ–º —Ä–µ–∂–∏–º–µ
- ‚úÖ –ü—Ä–æ–¥–∞–∂–∏ –ø–æ —Å–∏–≥–Ω–∞–ª—É
- ‚úÖ –°—Ç–æ–ø-–ª–æ—Å—Å—ã –∏ —Ç–µ–π–∫-–ø—Ä–æ—Ñ–∏—Ç—ã (—Ä–∞–±–æ—Ç–∞–ª–∏ –∏ —Ä–∞–Ω—å—à–µ)

–ï—Å–ª–∏ API –≤–µ—Ä–Ω–µ—Ç –æ—à–∏–±–∫—É 30079, –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –±—É–¥–µ—Ç –ø—Ä–æ–ø—É—â–µ–Ω –±–µ–∑ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–æ–π –æ—à–∏–±–∫–∏.


